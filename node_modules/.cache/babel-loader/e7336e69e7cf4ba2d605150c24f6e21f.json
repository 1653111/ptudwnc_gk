{"ast":null,"code":"var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction unwrapExports(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n/**\n * Helpers.\n */\n\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nvar ms = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n\n  throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(val));\n};\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\n\nfunction parse(str) {\n  str = String(str);\n\n  if (str.length > 100) {\n    return;\n  }\n\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);\n\n  if (!match) {\n    return;\n  }\n\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n\n    default:\n      return undefined;\n  }\n}\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n\n  return ms + 'ms';\n}\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n\n  return ms + ' ms';\n}\n/**\n * Pluralization helper.\n */\n\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\n\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = ms;\n  Object.keys(env).forEach(key => {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    let hash = 0;\n\n    for (let i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    let prevTime;\n\n    function debug(...args) {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      const self = debug; // Set `diff` timestamp\n\n      const curr = Number(new Date());\n      const ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      let index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        const formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          const val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      const logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    const index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    const newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n    newDebug.log = this.log;\n    return newDebug;\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    let i;\n    const split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    const len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      const instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @return {String} namespaces\n  * @api public\n  */\n\n\n  function disable() {\n    const namespaces = [...createDebug.names.map(toNamespace), ...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)].join(',');\n    createDebug.enable('');\n    return namespaces;\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    let i;\n    let len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Convert regexp to namespace\n  *\n  * @param {RegExp} regxep\n  * @return {String} namespace\n  * @api private\n  */\n\n\n  function toNamespace(regexp) {\n    return regexp.toString().substring(2, regexp.toString().length - 2).replace(/\\.\\*\\?$/, '*');\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nvar common = setup;\nvar browser = createCommonjsModule(function (module, exports) {\n  /* eslint-env browser */\n\n  /**\n   * This is the web browser implementation of `debug()`.\n   */\n  exports.log = log;\n  exports.formatArgs = formatArgs;\n  exports.save = save;\n  exports.load = load;\n  exports.useColors = useColors;\n  exports.storage = localstorage();\n  /**\n   * Colors.\n   */\n\n  exports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n  /**\n   * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n   * and the Firebug extension (any Firefox version) are known\n   * to support \"%c\" CSS customizations.\n   *\n   * TODO: add a `localStorage` variable to explicitly enable/disable colors\n   */\n  // eslint-disable-next-line complexity\n\n  function useColors() {\n    // NB: In an Electron preload script, document will be defined but not fully\n    // initialized. Since we know we're in Chrome, we'll just detect this case\n    // explicitly\n    if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n      return true;\n    } // Internet Explorer and Edge do not support colors.\n\n\n    if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n      return false;\n    } // Is webkit? http://stackoverflow.com/a/16459606/376773\n    // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n    return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n    typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n    typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n  }\n  /**\n   * Colorize log arguments if enabled.\n   *\n   * @api public\n   */\n\n\n  function formatArgs(args) {\n    args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n    if (!this.useColors) {\n      return;\n    }\n\n    const c = 'color: ' + this.color;\n    args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n    // arguments passed either before or after the %c, so we need to\n    // figure out the correct index to insert the CSS into\n\n    let index = 0;\n    let lastC = 0;\n    args[0].replace(/%[a-zA-Z%]/g, match => {\n      if (match === '%%') {\n        return;\n      }\n\n      index++;\n\n      if (match === '%c') {\n        // We only are interested in the *last* %c\n        // (the user may have provided their own)\n        lastC = index;\n      }\n    });\n    args.splice(lastC, 0, c);\n  }\n  /**\n   * Invokes `console.log()` when available.\n   * No-op when `console.log` is not a \"function\".\n   *\n   * @api public\n   */\n\n\n  function log(...args) {\n    // This hackery is required for IE8/9, where\n    // the `console.log` function doesn't have 'apply'\n    return typeof console === 'object' && console.log && console.log(...args);\n  }\n  /**\n   * Save `namespaces`.\n   *\n   * @param {String} namespaces\n   * @api private\n   */\n\n\n  function save(namespaces) {\n    try {\n      if (namespaces) {\n        exports.storage.setItem('debug', namespaces);\n      } else {\n        exports.storage.removeItem('debug');\n      }\n    } catch (error) {// Swallow\n      // XXX (@Qix-) should we be logging these?\n    }\n  }\n  /**\n   * Load `namespaces`.\n   *\n   * @return {String} returns the previously persisted debug modes\n   * @api private\n   */\n\n\n  function load() {\n    let r;\n\n    try {\n      r = exports.storage.getItem('debug');\n    } catch (error) {} // Swallow\n    // XXX (@Qix-) should we be logging these?\n    // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n    if (!r && typeof process !== 'undefined' && 'env' in process) {\n      r = process.env.DEBUG;\n    }\n\n    return r;\n  }\n  /**\n   * Localstorage attempts to return the localstorage.\n   *\n   * This is necessary because safari throws\n   * when a user disables cookies/localstorage\n   * and you attempt to access it.\n   *\n   * @return {LocalStorage}\n   * @api private\n   */\n\n\n  function localstorage() {\n    try {\n      // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n      // The Browser also has localStorage in the global context.\n      return localStorage;\n    } catch (error) {// Swallow\n      // XXX (@Qix-) should we be logging these?\n    }\n  }\n\n  module.exports = common(exports);\n  const {\n    formatters\n  } = module.exports;\n  /**\n   * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n   */\n\n  formatters.j = function (v) {\n    try {\n      return JSON.stringify(v);\n    } catch (error) {\n      return '[UnexpectedJSONParseError]: ' + error.message;\n    }\n  };\n});\nvar browser_1 = browser.log;\nvar browser_2 = browser.formatArgs;\nvar browser_3 = browser.save;\nvar browser_4 = browser.load;\nvar browser_5 = browser.useColors;\nvar browser_6 = browser.storage;\nvar browser_7 = browser.colors;\nlet debugFunc;\nlet phase = 'default';\nlet namespace = '';\n\nconst newDebug = () => {\n  debugFunc = namespace ? browser(`fetch-mock:${phase}:${namespace}`) : browser(`fetch-mock:${phase}`);\n};\n\nconst newDebugSandbox = ns => browser(`fetch-mock:${phase}:${ns}`);\n\nnewDebug();\nvar debug_1 = {\n  debug: (...args) => {\n    debugFunc(...args);\n  },\n  setDebugNamespace: str => {\n    namespace = str;\n    newDebug();\n  },\n  setDebugPhase: str => {\n    phase = str || 'default';\n    newDebug();\n  },\n  getDebug: namespace => newDebugSandbox(namespace)\n};\nconst {\n  debug,\n  setDebugPhase\n} = debug_1;\nconst FetchMock = {};\n\nFetchMock.mock = function (...args) {\n  setDebugPhase('setup');\n\n  if (args.length) {\n    this.addRoute(args);\n  }\n\n  return this._mock();\n};\n\nFetchMock.addRoute = function (uncompiledRoute) {\n  debug('Adding route', uncompiledRoute);\n  const route = this.compileRoute(uncompiledRoute);\n  const clashes = this.routes.filter(({\n    identifier,\n    method\n  }) => identifier === route.identifier && (!method || !route.method || method === route.method));\n\n  if (this.getOption('overwriteRoutes', route) === false || !clashes.length) {\n    this._uncompiledRoutes.push(uncompiledRoute);\n\n    return this.routes.push(route);\n  }\n\n  if (this.getOption('overwriteRoutes', route) === true) {\n    clashes.forEach(clash => {\n      const index = this.routes.indexOf(clash);\n\n      this._uncompiledRoutes.splice(index, 1, uncompiledRoute);\n\n      this.routes.splice(index, 1, route);\n    });\n    return this.routes;\n  }\n\n  if (clashes.length) {\n    throw new Error('fetch-mock: Adding route with same name or matcher as existing route. See `overwriteRoutes` option.');\n  }\n\n  this._uncompiledRoutes.push(uncompiledRoute);\n\n  this.routes.push(route);\n};\n\nFetchMock._mock = function () {\n  if (!this.isSandbox) {\n    // Do this here rather than in the constructor to ensure it's scoped to the test\n    this.realFetch = this.realFetch || this.global.fetch;\n    this.global.fetch = this.fetchHandler;\n  }\n\n  setDebugPhase();\n  return this;\n};\n\nFetchMock.catch = function (response) {\n  if (this.fallbackResponse) {\n    console.warn('calling fetchMock.catch() twice - are you sure you want to overwrite the previous fallback response'); // eslint-disable-line\n  }\n\n  this.fallbackResponse = response || 'ok';\n  return this._mock();\n};\n\nFetchMock.spy = function () {\n  this._mock();\n\n  return this.catch(this.getNativeFetch());\n};\n\nconst defineShorthand = (methodName, underlyingMethod, shorthandOptions) => {\n  FetchMock[methodName] = function (matcher, response, options) {\n    return this[underlyingMethod](matcher, response, Object.assign(options || {}, shorthandOptions));\n  };\n};\n\nconst defineGreedyShorthand = (methodName, underlyingMethod) => {\n  FetchMock[methodName] = function (response, options) {\n    return this[underlyingMethod]({}, response, options);\n  };\n};\n\ndefineShorthand('once', 'mock', {\n  repeat: 1\n});\ndefineGreedyShorthand('any', 'mock');\ndefineGreedyShorthand('anyOnce', 'once');\n['get', 'post', 'put', 'delete', 'head', 'patch'].forEach(method => {\n  defineShorthand(method, 'mock', {\n    method\n  });\n  defineShorthand(`${method}Once`, 'once', {\n    method\n  });\n  defineGreedyShorthand(`${method}Any`, method);\n  defineGreedyShorthand(`${method}AnyOnce`, `${method}Once`);\n});\n\nFetchMock.resetBehavior = function () {\n  if (this.realFetch) {\n    this.global.fetch = this.realFetch;\n    this.realFetch = undefined;\n  }\n\n  this.fallbackResponse = undefined;\n  this.routes = [];\n  this._uncompiledRoutes = [];\n  return this;\n};\n\nFetchMock.resetHistory = function () {\n  this._calls = [];\n  this._holdingPromises = [];\n  this.routes.forEach(route => route.reset && route.reset());\n  return this;\n};\n\nFetchMock.restore = FetchMock.reset = function () {\n  this.resetBehavior();\n  this.resetHistory();\n  return this;\n};\n\nvar setUpAndTearDown = FetchMock;\nconst {\n  getDebug\n} = debug_1;\nconst responseConfigProps = ['body', 'headers', 'throws', 'status', 'redirectUrl'];\n\nclass ResponseBuilder {\n  constructor(options) {\n    this.debug = getDebug('ResponseBuilder()');\n    this.debug('Response builder created with options', options);\n    Object.assign(this, options);\n  }\n\n  exec() {\n    this.debug('building response');\n    this.normalizeResponseConfig();\n    this.constructFetchOpts();\n    this.constructResponseBody();\n    return this.buildObservableResponse(new this.fetchMock.config.Response(this.body, this.options));\n  }\n\n  sendAsObject() {\n    if (responseConfigProps.some(prop => this.responseConfig[prop])) {\n      if (Object.keys(this.responseConfig).every(key => responseConfigProps.includes(key))) {\n        return false;\n      } else {\n        return true;\n      }\n    } else {\n      return true;\n    }\n  }\n\n  normalizeResponseConfig() {\n    // If the response config looks like a status, start to generate a simple response\n    if (typeof this.responseConfig === 'number') {\n      this.debug('building response using status', this.responseConfig);\n      this.responseConfig = {\n        status: this.responseConfig\n      }; // If the response config is not an object, or is an object that doesn't use\n      // any reserved properties, assume it is meant to be the body of the response\n    } else if (typeof this.responseConfig === 'string' || this.sendAsObject()) {\n      this.debug('building text response from', this.responseConfig);\n      this.responseConfig = {\n        body: this.responseConfig\n      };\n    }\n  }\n\n  validateStatus(status) {\n    if (!status) {\n      this.debug('No status provided. Defaulting to 200');\n      return 200;\n    }\n\n    if (typeof status === 'number' && parseInt(status, 10) !== status && status >= 200 || status < 600) {\n      this.debug('Valid status provided', status);\n      return status;\n    }\n\n    throw new TypeError(`fetch-mock: Invalid status ${status} passed on response object.\nTo respond with a JSON object that has status as a property assign the object to body\ne.g. {\"body\": {\"status: \"registered\"}}`);\n  }\n\n  constructFetchOpts() {\n    this.options = this.responseConfig.options || {};\n    this.options.url = this.responseConfig.redirectUrl || this.url;\n    this.options.status = this.validateStatus(this.responseConfig.status);\n    this.options.statusText = this.fetchMock.statusTextMap[String(this.options.status)]; // Set up response headers. The empty object is to cope with\n    // new Headers(undefined) throwing in Chrome\n    // https://code.google.com/p/chromium/issues/detail?id=335871\n\n    this.options.headers = new this.fetchMock.config.Headers(this.responseConfig.headers || {});\n  }\n\n  getOption(name) {\n    return this.fetchMock.getOption(name, this.route);\n  }\n\n  convertToJson() {\n    // convert to json if we need to\n    if (this.getOption('sendAsJson') && this.responseConfig.body != null && //eslint-disable-line\n    typeof this.body === 'object') {\n      this.debug('Stringifying JSON response body');\n      this.body = JSON.stringify(this.body);\n\n      if (!this.options.headers.has('Content-Type')) {\n        this.options.headers.set('Content-Type', 'application/json');\n      }\n    }\n  }\n\n  setContentLength() {\n    // add a Content-Length header if we need to\n    if (this.getOption('includeContentLength') && typeof this.body === 'string' && !this.options.headers.has('Content-Length')) {\n      this.debug('Setting content-length header:', this.body.length.toString());\n      this.options.headers.set('Content-Length', this.body.length.toString());\n    }\n  }\n\n  constructResponseBody() {\n    // start to construct the body\n    this.body = this.responseConfig.body;\n    this.convertToJson();\n    this.setContentLength(); // On the server we need to manually construct the readable stream for the\n    // Response object (on the client this done automatically)\n\n    if (this.Stream) {\n      this.debug('Creating response stream');\n      const stream = new this.Stream.Readable();\n\n      if (this.body != null) {\n        //eslint-disable-line\n        stream.push(this.body, 'utf-8');\n      }\n\n      stream.push(null);\n      this.body = stream;\n    }\n\n    this.body = this.body;\n  }\n\n  buildObservableResponse(response) {\n    const fetchMock = this.fetchMock; // Using a proxy means we can set properties that may not be writable on\n    // the original Response. It also means we can track the resolution of\n    // promises returned by res.json(), res.text() etc\n\n    this.debug('Wrappipng Response in ES proxy for observability');\n    return new Proxy(response, {\n      get: (originalResponse, name) => {\n        if (this.responseConfig.redirectUrl) {\n          if (name === 'url') {\n            this.debug('Retrieving redirect url', this.responseConfig.redirectUrl);\n            return this.responseConfig.redirectUrl;\n          }\n\n          if (name === 'redirected') {\n            this.debug('Retrieving redirected status', true);\n            return true;\n          }\n        }\n\n        if (typeof originalResponse[name] === 'function') {\n          this.debug('Wrapping body promises in ES proxies for observability');\n          return new Proxy(originalResponse[name], {\n            apply: (func, thisArg, args) => {\n              this.debug(`Calling res.${name}`);\n              const result = func.apply(response, args);\n\n              if (result.then) {\n                fetchMock._holdingPromises.push(result.catch(() => null));\n              }\n\n              return result;\n            }\n          });\n        }\n\n        return originalResponse[name];\n      }\n    });\n  }\n\n}\n\nvar responseBuilder = options => new ResponseBuilder(options).exec();\n\nlet URL; // https://stackoverflow.com/a/19709846/308237\n\nconst absoluteUrlRX = new RegExp('^(?:[a-z]+:)?//', 'i');\n\nconst headersToArray = headers => {\n  // node-fetch 1 Headers\n  if (typeof headers.raw === 'function') {\n    return Object.entries(headers.raw());\n  } else if (headers[Symbol.iterator]) {\n    return [...headers];\n  } else {\n    return Object.entries(headers);\n  }\n};\n\nconst zipObject = entries => entries.reduce((obj, [key, val]) => Object.assign(obj, {\n  [key]: val\n}), {});\n\nconst normalizeUrl = url => {\n  if (typeof url === 'function' || url instanceof RegExp || /^(begin|end|glob|express|path)\\:/.test(url)) {\n    return url;\n  }\n\n  if (absoluteUrlRX.test(url)) {\n    const u = new URL(url);\n    return u.href;\n  } else {\n    const u = new URL(url, 'http://dummy');\n    return u.pathname + u.search;\n  }\n};\n\nconst extractBody = async request => {\n  try {\n    // node-fetch\n    if ('body' in request) {\n      return request.body.toString();\n    } // fetch\n\n\n    return request.clone().text();\n  } catch (err) {}\n};\n\nvar requestUtils = {\n  setUrlImplementation: it => {\n    URL = it;\n  },\n  normalizeRequest: (url, options, Request) => {\n    if (Request.prototype.isPrototypeOf(url)) {\n      const derivedOptions = {\n        method: url.method\n      };\n      const body = extractBody(url);\n\n      if (typeof body !== 'undefined') {\n        derivedOptions.body = body;\n      }\n\n      const normalizedRequestObject = {\n        url: normalizeUrl(url.url),\n        options: Object.assign(derivedOptions, options),\n        request: url,\n        signal: options && options.signal || url.signal\n      };\n      const headers = headersToArray(url.headers);\n\n      if (headers.length) {\n        normalizedRequestObject.options.headers = zipObject(headers);\n      }\n\n      return normalizedRequestObject;\n    } else if (typeof url === 'string' || // horrible URL object duck-typing\n    typeof url === 'object' && 'href' in url) {\n      return {\n        url: normalizeUrl(url),\n        options: options,\n        signal: options && options.signal\n      };\n    } else if (typeof url === 'object') {\n      throw new TypeError('fetch-mock: Unrecognised Request object. Read the Config and Installation sections of the docs');\n    } else {\n      throw new TypeError('fetch-mock: Invalid arguments passed to fetch');\n    }\n  },\n  normalizeUrl,\n  getPath: url => {\n    const u = absoluteUrlRX.test(url) ? new URL(url) : new URL(url, 'http://dummy');\n    return u.pathname;\n  },\n  getQuery: url => {\n    const u = absoluteUrlRX.test(url) ? new URL(url) : new URL(url, 'http://dummy');\n    return u.search ? u.search.substr(1) : '';\n  },\n  headers: {\n    normalize: headers => zipObject(headersToArray(headers)),\n    toLowerCase: headers => Object.keys(headers).reduce((obj, k) => {\n      obj[k.toLowerCase()] = headers[k];\n      return obj;\n    }, {}),\n    equal: (actualHeader, expectedHeader) => {\n      actualHeader = Array.isArray(actualHeader) ? actualHeader : [actualHeader];\n      expectedHeader = Array.isArray(expectedHeader) ? expectedHeader : [expectedHeader];\n\n      if (actualHeader.length !== expectedHeader.length) {\n        return false;\n      }\n\n      return actualHeader.every((val, i) => val === expectedHeader[i]);\n    }\n  }\n};\nconst {\n  debug: debug$1,\n  setDebugPhase: setDebugPhase$1,\n  getDebug: getDebug$1\n} = debug_1;\nconst FetchMock$1 = {}; // see https://heycam.github.io/webidl/#aborterror for the standardised interface\n// Note that this differs slightly from node-fetch\n\nclass AbortError extends Error {\n  constructor() {\n    super(...arguments);\n    this.name = 'AbortError';\n    this.message = 'The operation was aborted.'; // Do not include this class in the stacktrace\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n  }\n\n}\n\nconst resolve = async ({\n  response,\n  responseIsFetch = false\n}, url, options, request) => {\n  const debug = getDebug$1('resolve()');\n  debug('Recursively resolving function and promise responses'); // We want to allow things like\n  // - function returning a Promise for a response\n  // - delaying (using a timeout Promise) a function's execution to generate\n  //   a response\n  // Because of this we can't safely check for function before Promisey-ness,\n  // or vice versa. So to keep it DRY, and flexible, we keep trying until we\n  // have something that looks like neither Promise nor function\n\n  while (true) {\n    if (typeof response === 'function') {\n      debug('  Response is a function'); // in the case of falling back to the network we need to make sure we're using\n      // the original Request instance, not our normalised url + options\n\n      if (responseIsFetch) {\n        if (request) {\n          debug('  -> Calling fetch with Request instance');\n          return response(request);\n        }\n\n        debug('  -> Calling fetch with url and options');\n        return response(url, options);\n      } else {\n        debug('  -> Calling response function');\n        response = response(url, options, request);\n      }\n    } else if (typeof response.then === 'function') {\n      debug('  Response is a promise');\n      debug('  -> Resolving promise');\n      response = await response;\n    } else {\n      debug('  Response is not a function or a promise');\n      debug('  -> Exiting response resolution recursion');\n      return response;\n    }\n  }\n};\n\nFetchMock$1.fetchHandler = function (url, options, request) {\n  setDebugPhase$1('handle');\n  const debug = getDebug$1('fetchHandler()');\n  debug('fetch called with:', url, options);\n  const normalizedRequest = requestUtils.normalizeRequest(url, options, this.config.Request);\n  ({\n    url,\n    options,\n    request\n  } = normalizedRequest);\n  const {\n    signal\n  } = normalizedRequest;\n  debug('Request normalised');\n  debug('  url', url);\n  debug('  options', options);\n  debug('  request', request);\n  debug('  signal', signal);\n\n  if (request && this.routes.some(({\n    usesBody\n  }) => usesBody)) {\n    debug('Need to wait for Body to be streamed before calling router: switching to async mode');\n    return this._asyncFetchHandler(url, options, request, signal);\n  }\n\n  return this._fetchHandler(url, options, request, signal);\n};\n\nFetchMock$1._asyncFetchHandler = async function (url, options, request, signal) {\n  options.body = await options.body;\n  return this._fetchHandler(url, options, request, signal);\n};\n\nFetchMock$1._fetchHandler = function (url, options, request, signal) {\n  const route = this.executeRouter(url, options, request); // this is used to power the .flush() method\n\n  let done;\n\n  this._holdingPromises.push(new this.config.Promise(res => done = res)); // wrapped in this promise to make sure we respect custom Promise\n  // constructors defined by the user\n\n\n  return new this.config.Promise((res, rej) => {\n    if (signal) {\n      debug$1('signal exists - enabling fetch abort');\n\n      const abort = () => {\n        debug$1('aborting fetch'); // note that DOMException is not available in node.js; even node-fetch uses a custom error class: https://github.com/bitinn/node-fetch/blob/master/src/abort-error.js\n\n        rej(typeof DOMException !== 'undefined' ? new DOMException('The operation was aborted.', 'AbortError') : new AbortError());\n        done();\n      };\n\n      if (signal.aborted) {\n        debug$1('signal is already aborted - aborting the fetch');\n        abort();\n      }\n\n      signal.addEventListener('abort', abort);\n    }\n\n    this.generateResponse(route, url, options, request).then(res, rej).then(done, done).then(() => {\n      setDebugPhase$1();\n    });\n  });\n};\n\nFetchMock$1.fetchHandler.isMock = true;\n\nFetchMock$1.executeRouter = function (url, options, request) {\n  const debug = getDebug$1('executeRouter()');\n  debug(`Attempting to match request to a route`);\n\n  if (this.getOption('fallbackToNetwork') === 'always') {\n    debug('  Configured with fallbackToNetwork=always - passing through to fetch');\n    return {\n      response: this.getNativeFetch(),\n      responseIsFetch: true\n    };\n  }\n\n  const match = this.router(url, options, request);\n\n  if (match) {\n    debug('  Matching route found');\n    return match;\n  }\n\n  if (this.getOption('warnOnFallback')) {\n    console.warn(`Unmatched ${options && options.method || 'GET'} to ${url}`); // eslint-disable-line\n  }\n\n  this.push({\n    url,\n    options,\n    request,\n    isUnmatched: true\n  });\n\n  if (this.fallbackResponse) {\n    debug('  No matching route found - using fallbackResponse');\n    return {\n      response: this.fallbackResponse\n    };\n  }\n\n  if (!this.getOption('fallbackToNetwork')) {\n    throw new Error(`fetch-mock: No fallback response defined for ${options && options.method || 'GET'} to ${url}`);\n  }\n\n  debug('  Configured to fallbackToNetwork - passing through to fetch');\n  return {\n    response: this.getNativeFetch(),\n    responseIsFetch: true\n  };\n};\n\nFetchMock$1.generateResponse = async function (route, url, options, request) {\n  const debug = getDebug$1('generateResponse()');\n  const response = await resolve(route, url, options, request); // If the response says to throw an error, throw it\n  // Type checking is to deal with sinon spies having a throws property :-0\n\n  if (response.throws && typeof response !== 'function') {\n    debug('response.throws is defined - throwing an error');\n    throw response.throws;\n  } // If the response is a pre-made Response, respond with it\n\n\n  if (this.config.Response.prototype.isPrototypeOf(response)) {\n    debug('response is already a Response instance - returning it');\n    return response;\n  } // finally, if we need to convert config into a response, we do it\n\n\n  return responseBuilder({\n    url,\n    responseConfig: response,\n    fetchMock: this,\n    route\n  });\n};\n\nFetchMock$1.router = function (url, options, request) {\n  const route = this.routes.find((route, i) => {\n    debug$1(`Trying to match route ${i}`);\n    return route.matcher(url, options, request);\n  });\n\n  if (route) {\n    this.push({\n      url,\n      options,\n      request,\n      identifier: route.identifier\n    });\n    return route;\n  }\n};\n\nFetchMock$1.getNativeFetch = function () {\n  const func = this.realFetch || this.isSandbox && this.config.fetch;\n\n  if (!func) {\n    throw new Error('fetch-mock: Falling back to network only available on global fetch-mock, or by setting config.fetch on sandboxed fetch-mock');\n  }\n\n  return func;\n};\n\nFetchMock$1.push = function ({\n  url,\n  options,\n  request,\n  isUnmatched,\n  identifier\n}) {\n  debug$1('Recording fetch call', {\n    url,\n    options,\n    request,\n    isUnmatched,\n    identifier\n  });\n  const args = [url, options];\n  args.request = request;\n  args.identifier = identifier;\n  args.isUnmatched = isUnmatched;\n\n  this._calls.push(args);\n};\n\nvar fetchHandler = FetchMock$1;\nconst {\n  setDebugPhase: setDebugPhase$2,\n  setDebugNamespace,\n  debug: debug$2\n} = debug_1;\nconst {\n  normalizeUrl: normalizeUrl$1\n} = requestUtils;\nconst FetchMock$2 = {};\n\nconst isName = nameOrMatcher => typeof nameOrMatcher === 'string' && /^[\\da-zA-Z\\-]+$/.test(nameOrMatcher);\n\nconst filterCallsWithMatcher = function (matcher, options = {}, calls) {\n  matcher = this.generateMatcher(this.sanitizeRoute(Object.assign({\n    matcher\n  }, options)));\n  return calls.filter(([url, options]) => matcher(normalizeUrl$1(url), options));\n};\n\nconst formatDebug = func => {\n  return function (...args) {\n    setDebugPhase$2('inspect');\n    const result = func.call(this, ...args);\n    setDebugPhase$2();\n    return result;\n  };\n};\n\nFetchMock$2.filterCalls = function (nameOrMatcher, options) {\n  debug$2('Filtering fetch calls');\n  let calls = this._calls;\n  let matcher = '*';\n\n  if ([true, 'matched'].includes(nameOrMatcher)) {\n    debug$2(`Filter provided is ${nameOrMatcher}. Returning matched calls only`);\n    calls = calls.filter(({\n      isUnmatched\n    }) => !isUnmatched);\n  } else if ([false, 'unmatched'].includes(nameOrMatcher)) {\n    debug$2(`Filter provided is ${nameOrMatcher}. Returning unmatched calls only`);\n    calls = calls.filter(({\n      isUnmatched\n    }) => isUnmatched);\n  } else if (typeof nameOrMatcher === 'undefined') {\n    debug$2(`Filter provided is undefined. Returning all calls`);\n    calls = calls;\n  } else if (isName(nameOrMatcher)) {\n    debug$2(`Filter provided, looks like the name of a named route. Returning only calls handled by that route`);\n    calls = calls.filter(({\n      identifier\n    }) => identifier === nameOrMatcher);\n  } else {\n    matcher = normalizeUrl$1(nameOrMatcher);\n\n    if (this.routes.some(({\n      identifier\n    }) => identifier === matcher)) {\n      debug$2(`Filter provided, ${nameOrMatcher}, identifies a route. Returning only calls handled by that route`);\n      calls = calls.filter(call => call.identifier === matcher);\n    }\n  }\n\n  if ((options || matcher !== '*') && calls.length) {\n    if (typeof options === 'string') {\n      options = {\n        method: options\n      };\n    }\n\n    debug$2('Compiling filter and options to route in order to filter all calls', nameOrMatcher);\n    calls = filterCallsWithMatcher.call(this, matcher, options, calls);\n  }\n\n  debug$2(`Retrieved ${calls.length} calls`);\n  return calls;\n};\n\nFetchMock$2.calls = formatDebug(function (nameOrMatcher, options) {\n  debug$2('retrieving matching calls');\n  return this.filterCalls(nameOrMatcher, options);\n});\nFetchMock$2.lastCall = formatDebug(function (nameOrMatcher, options) {\n  debug$2('retrieving last matching call');\n  return [...this.filterCalls(nameOrMatcher, options)].pop();\n});\nFetchMock$2.lastUrl = formatDebug(function (nameOrMatcher, options) {\n  debug$2('retrieving url of last matching call');\n  return (this.lastCall(nameOrMatcher, options) || [])[0];\n});\nFetchMock$2.lastOptions = formatDebug(function (nameOrMatcher, options) {\n  debug$2('retrieving options of last matching call');\n  return (this.lastCall(nameOrMatcher, options) || [])[1];\n});\nFetchMock$2.called = formatDebug(function (nameOrMatcher, options) {\n  debug$2('checking if matching call was made');\n  return Boolean(this.filterCalls(nameOrMatcher, options).length);\n});\nFetchMock$2.flush = formatDebug(async function (waitForResponseMethods) {\n  setDebugNamespace('flush');\n  debug$2(`flushing all fetch calls. ${waitForResponseMethods ? '' : 'Not '}waiting for response bodies to complete download`);\n  const queuedPromises = this._holdingPromises;\n  this._holdingPromises = [];\n  debug$2(`${queuedPromises.length} fetch calls to be awaited`);\n  await Promise.all(queuedPromises);\n  debug$2(`All fetch calls have completed`);\n\n  if (waitForResponseMethods && this._holdingPromises.length) {\n    debug$2(`Awaiting all fetch bodies to download`);\n    await this.flush(waitForResponseMethods);\n    debug$2(`All fetch bodies have completed downloading`);\n  }\n\n  setDebugNamespace();\n});\nFetchMock$2.done = formatDebug(function (nameOrMatcher) {\n  setDebugPhase$2('inspect');\n  setDebugNamespace('done');\n  debug$2('Checking to see if expected calls have been made');\n  let routesToCheck;\n\n  if (nameOrMatcher && typeof nameOrMatcher !== 'boolean') {\n    debug$2('Checking to see if expected calls have been made for single route:', nameOrMatcher);\n    routesToCheck = [{\n      identifier: nameOrMatcher\n    }];\n  } else {\n    debug$2('Checking to see if expected calls have been made for all routes');\n    routesToCheck = this.routes;\n  } // Can't use array.every because would exit after first failure, which would\n  // break the logging\n\n\n  const result = routesToCheck.map(({\n    identifier\n  }) => {\n    if (!this.called(identifier)) {\n      debug$2('No calls made for route:', identifier);\n      console.warn(`Warning: ${identifier} not called`); // eslint-disable-line\n\n      return false;\n    }\n\n    const expectedTimes = (this.routes.find(r => r.identifier === identifier) || {}).repeat;\n\n    if (!expectedTimes) {\n      debug$2('Route has been called at least once, and no expectation of more set:', identifier);\n      return true;\n    }\n\n    const actualTimes = this.filterCalls(identifier).length;\n    debug$2(`Route called ${actualTimes} times:`, identifier);\n\n    if (expectedTimes > actualTimes) {\n      debug$2(`Route called ${actualTimes} times, but expected ${expectedTimes}:`, identifier);\n      console.warn(`Warning: ${identifier} only called ${actualTimes} times, but ${expectedTimes} expected`); // eslint-disable-line\n\n      return false;\n    } else {\n      return true;\n    }\n  }).every(isDone => isDone);\n  setDebugNamespace();\n  setDebugPhase$2();\n  return result;\n});\nvar inspecting = FetchMock$2;\n\nvar globToRegexp = function (glob, opts) {\n  if (typeof glob !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  var str = String(glob); // The regexp we are building, as a string.\n\n  var reStr = \"\"; // Whether we are matching so called \"extended\" globs (like bash) and should\n  // support single character matching, matching ranges of characters, group\n  // matching, etc.\n\n  var extended = opts ? !!opts.extended : false; // When globstar is _false_ (default), '/foo/*' is translated a regexp like\n  // '^\\/foo\\/.*$' which will match any string beginning with '/foo/'\n  // When globstar is _true_, '/foo/*' is translated to regexp like\n  // '^\\/foo\\/[^/]*$' which will match any string beginning with '/foo/' BUT\n  // which does not have a '/' to the right of it.\n  // E.g. with '/foo/*' these will match: '/foo/bar', '/foo/bar.txt' but\n  // these will not '/foo/bar/baz', '/foo/bar/baz.txt'\n  // Lastely, when globstar is _true_, '/foo/**' is equivelant to '/foo/*' when\n  // globstar is _false_\n\n  var globstar = opts ? !!opts.globstar : false; // If we are doing extended matching, this boolean is true when we are inside\n  // a group (eg {*.html,*.js}), and false otherwise.\n\n  var inGroup = false; // RegExp flags (eg \"i\" ) to pass in to RegExp constructor.\n\n  var flags = opts && typeof opts.flags === \"string\" ? opts.flags : \"\";\n  var c;\n\n  for (var i = 0, len = str.length; i < len; i++) {\n    c = str[i];\n\n    switch (c) {\n      case \"/\":\n      case \"$\":\n      case \"^\":\n      case \"+\":\n      case \".\":\n      case \"(\":\n      case \")\":\n      case \"=\":\n      case \"!\":\n      case \"|\":\n        reStr += \"\\\\\" + c;\n        break;\n\n      case \"?\":\n        if (extended) {\n          reStr += \".\";\n          break;\n        }\n\n      case \"[\":\n      case \"]\":\n        if (extended) {\n          reStr += c;\n          break;\n        }\n\n      case \"{\":\n        if (extended) {\n          inGroup = true;\n          reStr += \"(\";\n          break;\n        }\n\n      case \"}\":\n        if (extended) {\n          inGroup = false;\n          reStr += \")\";\n          break;\n        }\n\n      case \",\":\n        if (inGroup) {\n          reStr += \"|\";\n          break;\n        }\n\n        reStr += \"\\\\\" + c;\n        break;\n\n      case \"*\":\n        // Move over all consecutive \"*\"'s.\n        // Also store the previous and next characters\n        var prevChar = str[i - 1];\n        var starCount = 1;\n\n        while (str[i + 1] === \"*\") {\n          starCount++;\n          i++;\n        }\n\n        var nextChar = str[i + 1];\n\n        if (!globstar) {\n          // globstar is disabled, so treat any number of \"*\" as one\n          reStr += \".*\";\n        } else {\n          // globstar is enabled, so determine if this is a globstar segment\n          var isGlobstar = starCount > 1 // multiple \"*\"'s\n          && (prevChar === \"/\" || prevChar === undefined) // from the start of the segment\n          && (nextChar === \"/\" || nextChar === undefined); // to the end of the segment\n\n          if (isGlobstar) {\n            // it's a globstar, so match zero or more path segments\n            reStr += \"((?:[^/]*(?:\\/|$))*)\";\n            i++; // move over the \"/\"\n          } else {\n            // it's not a globstar, so only match one path segment\n            reStr += \"([^/]*)\";\n          }\n        }\n\n        break;\n\n      default:\n        reStr += c;\n    }\n  } // When regexp 'g' flag is specified don't\n  // constrain the regular expression with ^ & $\n\n\n  if (!flags || !~flags.indexOf('g')) {\n    reStr = \"^\" + reStr + \"$\";\n  }\n\n  return new RegExp(reStr, flags);\n};\n/**\n * Expose `pathToRegexp`.\n */\n\n\nvar pathToRegexp_1 = pathToRegexp;\nvar parse_1 = parse$1;\nvar compile_1 = compile;\nvar tokensToFunction_1 = tokensToFunction;\nvar tokensToRegExp_1 = tokensToRegExp;\n/**\n * Default configs.\n */\n\nvar DEFAULT_DELIMITER = '/';\nvar DEFAULT_DELIMITERS = './';\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\n\nvar PATH_REGEXP = new RegExp([// Match escaped characters that would otherwise appear in future matches.\n// This allows the user to escape special characters that won't transform.\n'(\\\\\\\\.)', // Match Express-style parameters and un-named parameters with a prefix\n// and optional suffixes. Matches appear as:\n//\n// \":test(\\\\d+)?\" => [\"test\", \"\\d+\", undefined, \"?\"]\n// \"(\\\\d+)\"  => [undefined, undefined, \"\\d+\", undefined]\n'(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'].join('|'), 'g');\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\n\nfunction parse$1(str, options) {\n  var tokens = [];\n  var key = 0;\n  var index = 0;\n  var path = '';\n  var defaultDelimiter = options && options.delimiter || DEFAULT_DELIMITER;\n  var delimiters = options && options.delimiters || DEFAULT_DELIMITERS;\n  var pathEscaped = false;\n  var res;\n\n  while ((res = PATH_REGEXP.exec(str)) !== null) {\n    var m = res[0];\n    var escaped = res[1];\n    var offset = res.index;\n    path += str.slice(index, offset);\n    index = offset + m.length; // Ignore already escaped sequences.\n\n    if (escaped) {\n      path += escaped[1];\n      pathEscaped = true;\n      continue;\n    }\n\n    var prev = '';\n    var next = str[index];\n    var name = res[2];\n    var capture = res[3];\n    var group = res[4];\n    var modifier = res[5];\n\n    if (!pathEscaped && path.length) {\n      var k = path.length - 1;\n\n      if (delimiters.indexOf(path[k]) > -1) {\n        prev = path[k];\n        path = path.slice(0, k);\n      }\n    } // Push the current path onto the tokens.\n\n\n    if (path) {\n      tokens.push(path);\n      path = '';\n      pathEscaped = false;\n    }\n\n    var partial = prev !== '' && next !== undefined && next !== prev;\n    var repeat = modifier === '+' || modifier === '*';\n    var optional = modifier === '?' || modifier === '*';\n    var delimiter = prev || defaultDelimiter;\n    var pattern = capture || group;\n    tokens.push({\n      name: name || key++,\n      prefix: prev,\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      pattern: pattern ? escapeGroup(pattern) : '[^' + escapeString(delimiter) + ']+?'\n    });\n  } // Push any remaining characters.\n\n\n  if (path || index < str.length) {\n    tokens.push(path + str.substr(index));\n  }\n\n  return tokens;\n}\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\n\n\nfunction compile(str, options) {\n  return tokensToFunction(parse$1(str, options));\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\n\n\nfunction tokensToFunction(tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length); // Compile all the patterns before compilation.\n\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$');\n    }\n  }\n\n  return function (data, options) {\n    var path = '';\n    var encode = options && options.encode || encodeURIComponent;\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === 'string') {\n        path += token;\n        continue;\n      }\n\n      var value = data ? data[token.name] : undefined;\n      var segment;\n\n      if (Array.isArray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but got array');\n        }\n\n        if (value.length === 0) {\n          if (token.optional) continue;\n          throw new TypeError('Expected \"' + token.name + '\" to not be empty');\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j], token);\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\"');\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment;\n        }\n\n        continue;\n      }\n\n      if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        segment = encode(String(value), token);\n\n        if (!matches[i].test(segment)) {\n          throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but got \"' + segment + '\"');\n        }\n\n        path += token.prefix + segment;\n        continue;\n      }\n\n      if (token.optional) {\n        // Prepend partial segment prefixes.\n        if (token.partial) path += token.prefix;\n        continue;\n      }\n\n      throw new TypeError('Expected \"' + token.name + '\" to be ' + (token.repeat ? 'an array' : 'a string'));\n    }\n\n    return path;\n  };\n}\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\n\n\nfunction escapeString(str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1');\n}\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\n\n\nfunction escapeGroup(group) {\n  return group.replace(/([=!:$/()])/g, '\\\\$1');\n}\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\n\n\nfunction flags(options) {\n  return options && options.sensitive ? '' : 'i';\n}\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {Array=}  keys\n * @return {!RegExp}\n */\n\n\nfunction regexpToRegexp(path, keys) {\n  if (!keys) return path; // Use a negative lookahead to match only capturing groups.\n\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        pattern: null\n      });\n    }\n  }\n\n  return path;\n}\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\n\n\nfunction arrayToRegexp(path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source);\n  }\n\n  return new RegExp('(?:' + parts.join('|') + ')', flags(options));\n}\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\n\n\nfunction stringToRegexp(path, keys, options) {\n  return tokensToRegExp(parse$1(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}  tokens\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\n\n\nfunction tokensToRegExp(tokens, keys, options) {\n  options = options || {};\n  var strict = options.strict;\n  var start = options.start !== false;\n  var end = options.end !== false;\n  var delimiter = escapeString(options.delimiter || DEFAULT_DELIMITER);\n  var delimiters = options.delimiters || DEFAULT_DELIMITERS;\n  var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|');\n  var route = start ? '^' : '';\n  var isEndDelimited = tokens.length === 0; // Iterate over the tokens and create our regexp string.\n\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (typeof token === 'string') {\n      route += escapeString(token);\n      isEndDelimited = i === tokens.length - 1 && delimiters.indexOf(token[token.length - 1]) > -1;\n    } else {\n      var capture = token.repeat ? '(?:' + token.pattern + ')(?:' + escapeString(token.delimiter) + '(?:' + token.pattern + '))*' : token.pattern;\n      if (keys) keys.push(token);\n\n      if (token.optional) {\n        if (token.partial) {\n          route += escapeString(token.prefix) + '(' + capture + ')?';\n        } else {\n          route += '(?:' + escapeString(token.prefix) + '(' + capture + '))?';\n        }\n      } else {\n        route += escapeString(token.prefix) + '(' + capture + ')';\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += '(?:' + delimiter + ')?';\n    route += endsWith === '$' ? '$' : '(?=' + endsWith + ')';\n  } else {\n    if (!strict) route += '(?:' + delimiter + '(?=' + endsWith + '))?';\n    if (!isEndDelimited) route += '(?=' + delimiter + '|' + endsWith + ')';\n  }\n\n  return new RegExp(route, flags(options));\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {Array=}                keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\n\n\nfunction pathToRegexp(path, keys, options) {\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys);\n  }\n\n  if (Array.isArray(path)) {\n    return arrayToRegexp(\n    /** @type {!Array} */\n    path, keys, options);\n  }\n\n  return stringToRegexp(\n  /** @type {string} */\n  path, keys, options);\n}\n\npathToRegexp_1.parse = parse_1;\npathToRegexp_1.compile = compile_1;\npathToRegexp_1.tokensToFunction = tokensToFunction_1;\npathToRegexp_1.tokensToRegExp = tokensToRegExp_1; // Copyright Joyent, Inc. and other Node contributors.\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar decode = function (qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n  var maxKeys = 1000;\n\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length; // maxKeys <= 0 means that we should not limit keys count\n\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr,\n        vstr,\n        k,\n        v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n}; // Copyright Joyent, Inc. and other Node contributors.\n\n\nvar stringifyPrimitive = function (v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nvar encode = function (obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return Object.keys(obj).map(function (k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function (v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq + encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar querystring = createCommonjsModule(function (module, exports) {\n  exports.decode = exports.parse = decode;\n  exports.encode = exports.stringify = encode;\n});\nvar querystring_1 = querystring.decode;\nvar querystring_2 = querystring.parse;\nvar querystring_3 = querystring.encode;\nvar querystring_4 = querystring.stringify;\nvar isSubset_1 = createCommonjsModule(function (module, exports) {\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  /**\n   * Check if an object is contained within another object.\n   *\n   * Returns `true` if:\n   * - all enumerable keys of *subset* are also enumerable in *superset*, and\n   * - every value assigned to an enumerable key of *subset* strictly equals\n   *   the value assigned to the same key of *superset*  or is a subset of it.\n   *\n   * @param  {Object}  superset\n   * @param  {Object}  subset\n   *\n   * @returns  {Boolean}\n   *\n   * @module    is-subset\n   * @function  default\n   * @alias     isSubset\n   */\n\n  var isSubset = function (_isSubset) {\n    function isSubset(_x, _x2) {\n      return _isSubset.apply(this, arguments);\n    }\n\n    isSubset.toString = function () {\n      return _isSubset.toString();\n    };\n\n    return isSubset;\n  }(function (superset, subset) {\n    if (typeof superset !== 'object' || superset === null || typeof subset !== 'object' || subset === null) return false;\n    return Object.keys(subset).every(function (key) {\n      if (!superset.propertyIsEnumerable(key)) return false;\n      var subsetItem = subset[key];\n      var supersetItem = superset[key];\n      if (typeof subsetItem === 'object' && subsetItem !== null ? !isSubset(supersetItem, subsetItem) : supersetItem !== subsetItem) return false;\n      return true;\n    });\n  });\n\n  exports['default'] = isSubset;\n  module.exports = exports['default'];\n});\nunwrapExports(isSubset_1);\nvar lodash_isequal = createCommonjsModule(function (module, exports) {\n  /**\n   * Lodash (Custom Build) <https://lodash.com/>\n   * Build: `lodash modularize exports=\"npm\" -o ./`\n   * Copyright JS Foundation and other contributors <https://js.foundation/>\n   * Released under MIT license <https://lodash.com/license>\n   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n   */\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n  /** Used to stand-in for `undefined` hash values. */\n\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n  /** Used to compose bitmasks for value comparisons. */\n\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n  /** Used as references for various `Number` constants. */\n\n  var MAX_SAFE_INTEGER = 9007199254740991;\n  /** `Object#toString` result references. */\n\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]';\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n  /** Used to detect host constructors (Safari). */\n\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n  /** Used to detect unsigned integer values. */\n\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n  /** Used to identify `toStringTag` values of typed arrays. */\n\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n  /** Detect free variable `global` from Node.js. */\n\n  var freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n  /** Detect free variable `self`. */\n\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n  /** Used as a reference to the global object. */\n\n  var root = freeGlobal || freeSelf || Function('return this')();\n  /** Detect free variable `exports`. */\n\n  var freeExports = exports && !exports.nodeType && exports;\n  /** Detect free variable `module`. */\n\n  var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n  /** Detect the popular CommonJS extension `module.exports`. */\n\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n  /** Detect free variable `process` from Node.js. */\n\n  var freeProcess = moduleExports && freeGlobal.process;\n  /** Used to access faster Node.js helpers. */\n\n  var nodeUtil = function () {\n    try {\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }();\n  /* Node.js helper references. */\n\n\n  var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n\n    return result;\n  }\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n\n\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n\n    return array;\n  }\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n\n\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n\n\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n\n    return result;\n  }\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n\n\n  function baseUnary(func) {\n    return function (value) {\n      return func(value);\n    };\n  }\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n\n\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n\n\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n\n\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n    map.forEach(function (value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n\n\n  function overArg(func, transform) {\n    return function (arg) {\n      return func(transform(arg));\n    };\n  }\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n\n\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n    set.forEach(function (value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n  /** Used for built-in method references. */\n\n\n  var arrayProto = Array.prototype,\n      funcProto = Function.prototype,\n      objectProto = Object.prototype;\n  /** Used to detect overreaching core-js shims. */\n\n  var coreJsData = root['__core-js_shared__'];\n  /** Used to resolve the decompiled source of functions. */\n\n  var funcToString = funcProto.toString;\n  /** Used to check objects for own properties. */\n\n  var hasOwnProperty = objectProto.hasOwnProperty;\n  /** Used to detect methods masquerading as native. */\n\n  var maskSrcKey = function () {\n    var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n    return uid ? 'Symbol(src)_1.' + uid : '';\n  }();\n  /**\n   * Used to resolve the\n   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n\n\n  var nativeObjectToString = objectProto.toString;\n  /** Used to detect if a method is native. */\n\n  var reIsNative = RegExp('^' + funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&').replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n  /** Built-in value references. */\n\n  var Buffer = moduleExports ? root.Buffer : undefined,\n      Symbol = root.Symbol,\n      Uint8Array = root.Uint8Array,\n      propertyIsEnumerable = objectProto.propertyIsEnumerable,\n      splice = arrayProto.splice,\n      symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n  /* Built-in method references for those with the same name as other `lodash` methods. */\n\n  var nativeGetSymbols = Object.getOwnPropertySymbols,\n      nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n      nativeKeys = overArg(Object.keys, Object);\n  /* Built-in method references that are verified to be native. */\n\n  var DataView = getNative(root, 'DataView'),\n      Map = getNative(root, 'Map'),\n      Promise = getNative(root, 'Promise'),\n      Set = getNative(root, 'Set'),\n      WeakMap = getNative(root, 'WeakMap'),\n      nativeCreate = getNative(Object, 'create');\n  /** Used to detect maps, sets, and weakmaps. */\n\n  var dataViewCtorString = toSource(DataView),\n      mapCtorString = toSource(Map),\n      promiseCtorString = toSource(Promise),\n      setCtorString = toSource(Set),\n      weakMapCtorString = toSource(WeakMap);\n  /** Used to convert symbols to primitives and strings. */\n\n  var symbolProto = Symbol ? Symbol.prototype : undefined,\n      symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n  /**\n   * Creates a hash object.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n\n  function Hash(entries) {\n    var index = -1,\n        length = entries == null ? 0 : entries.length;\n    this.clear();\n\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n  /**\n   * Removes all key-value entries from the hash.\n   *\n   * @private\n   * @name clear\n   * @memberOf Hash\n   */\n\n\n  function hashClear() {\n    this.__data__ = nativeCreate ? nativeCreate(null) : {};\n    this.size = 0;\n  }\n  /**\n   * Removes `key` and its value from the hash.\n   *\n   * @private\n   * @name delete\n   * @memberOf Hash\n   * @param {Object} hash The hash to modify.\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n\n\n  function hashDelete(key) {\n    var result = this.has(key) && delete this.__data__[key];\n    this.size -= result ? 1 : 0;\n    return result;\n  }\n  /**\n   * Gets the hash value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf Hash\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n\n\n  function hashGet(key) {\n    var data = this.__data__;\n\n    if (nativeCreate) {\n      var result = data[key];\n      return result === HASH_UNDEFINED ? undefined : result;\n    }\n\n    return hasOwnProperty.call(data, key) ? data[key] : undefined;\n  }\n  /**\n   * Checks if a hash value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf Hash\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n\n\n  function hashHas(key) {\n    var data = this.__data__;\n    return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n  }\n  /**\n   * Sets the hash `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf Hash\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the hash instance.\n   */\n\n\n  function hashSet(key, value) {\n    var data = this.__data__;\n    this.size += this.has(key) ? 0 : 1;\n    data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;\n    return this;\n  } // Add methods to `Hash`.\n\n\n  Hash.prototype.clear = hashClear;\n  Hash.prototype['delete'] = hashDelete;\n  Hash.prototype.get = hashGet;\n  Hash.prototype.has = hashHas;\n  Hash.prototype.set = hashSet;\n  /**\n   * Creates an list cache object.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n\n  function ListCache(entries) {\n    var index = -1,\n        length = entries == null ? 0 : entries.length;\n    this.clear();\n\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n  /**\n   * Removes all key-value entries from the list cache.\n   *\n   * @private\n   * @name clear\n   * @memberOf ListCache\n   */\n\n\n  function listCacheClear() {\n    this.__data__ = [];\n    this.size = 0;\n  }\n  /**\n   * Removes `key` and its value from the list cache.\n   *\n   * @private\n   * @name delete\n   * @memberOf ListCache\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n\n\n  function listCacheDelete(key) {\n    var data = this.__data__,\n        index = assocIndexOf(data, key);\n\n    if (index < 0) {\n      return false;\n    }\n\n    var lastIndex = data.length - 1;\n\n    if (index == lastIndex) {\n      data.pop();\n    } else {\n      splice.call(data, index, 1);\n    }\n\n    --this.size;\n    return true;\n  }\n  /**\n   * Gets the list cache value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf ListCache\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n\n\n  function listCacheGet(key) {\n    var data = this.__data__,\n        index = assocIndexOf(data, key);\n    return index < 0 ? undefined : data[index][1];\n  }\n  /**\n   * Checks if a list cache value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf ListCache\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n\n\n  function listCacheHas(key) {\n    return assocIndexOf(this.__data__, key) > -1;\n  }\n  /**\n   * Sets the list cache `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf ListCache\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the list cache instance.\n   */\n\n\n  function listCacheSet(key, value) {\n    var data = this.__data__,\n        index = assocIndexOf(data, key);\n\n    if (index < 0) {\n      ++this.size;\n      data.push([key, value]);\n    } else {\n      data[index][1] = value;\n    }\n\n    return this;\n  } // Add methods to `ListCache`.\n\n\n  ListCache.prototype.clear = listCacheClear;\n  ListCache.prototype['delete'] = listCacheDelete;\n  ListCache.prototype.get = listCacheGet;\n  ListCache.prototype.has = listCacheHas;\n  ListCache.prototype.set = listCacheSet;\n  /**\n   * Creates a map cache object to store key-value pairs.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n\n  function MapCache(entries) {\n    var index = -1,\n        length = entries == null ? 0 : entries.length;\n    this.clear();\n\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n  /**\n   * Removes all key-value entries from the map.\n   *\n   * @private\n   * @name clear\n   * @memberOf MapCache\n   */\n\n\n  function mapCacheClear() {\n    this.size = 0;\n    this.__data__ = {\n      'hash': new Hash(),\n      'map': new (Map || ListCache)(),\n      'string': new Hash()\n    };\n  }\n  /**\n   * Removes `key` and its value from the map.\n   *\n   * @private\n   * @name delete\n   * @memberOf MapCache\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n\n\n  function mapCacheDelete(key) {\n    var result = getMapData(this, key)['delete'](key);\n    this.size -= result ? 1 : 0;\n    return result;\n  }\n  /**\n   * Gets the map value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf MapCache\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n\n\n  function mapCacheGet(key) {\n    return getMapData(this, key).get(key);\n  }\n  /**\n   * Checks if a map value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf MapCache\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n\n\n  function mapCacheHas(key) {\n    return getMapData(this, key).has(key);\n  }\n  /**\n   * Sets the map `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf MapCache\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the map cache instance.\n   */\n\n\n  function mapCacheSet(key, value) {\n    var data = getMapData(this, key),\n        size = data.size;\n    data.set(key, value);\n    this.size += data.size == size ? 0 : 1;\n    return this;\n  } // Add methods to `MapCache`.\n\n\n  MapCache.prototype.clear = mapCacheClear;\n  MapCache.prototype['delete'] = mapCacheDelete;\n  MapCache.prototype.get = mapCacheGet;\n  MapCache.prototype.has = mapCacheHas;\n  MapCache.prototype.set = mapCacheSet;\n  /**\n   *\n   * Creates an array cache object to store unique values.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [values] The values to cache.\n   */\n\n  function SetCache(values) {\n    var index = -1,\n        length = values == null ? 0 : values.length;\n    this.__data__ = new MapCache();\n\n    while (++index < length) {\n      this.add(values[index]);\n    }\n  }\n  /**\n   * Adds `value` to the array cache.\n   *\n   * @private\n   * @name add\n   * @memberOf SetCache\n   * @alias push\n   * @param {*} value The value to cache.\n   * @returns {Object} Returns the cache instance.\n   */\n\n\n  function setCacheAdd(value) {\n    this.__data__.set(value, HASH_UNDEFINED);\n\n    return this;\n  }\n  /**\n   * Checks if `value` is in the array cache.\n   *\n   * @private\n   * @name has\n   * @memberOf SetCache\n   * @param {*} value The value to search for.\n   * @returns {number} Returns `true` if `value` is found, else `false`.\n   */\n\n\n  function setCacheHas(value) {\n    return this.__data__.has(value);\n  } // Add methods to `SetCache`.\n\n\n  SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n  SetCache.prototype.has = setCacheHas;\n  /**\n   * Creates a stack cache object to store key-value pairs.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n\n  function Stack(entries) {\n    var data = this.__data__ = new ListCache(entries);\n    this.size = data.size;\n  }\n  /**\n   * Removes all key-value entries from the stack.\n   *\n   * @private\n   * @name clear\n   * @memberOf Stack\n   */\n\n\n  function stackClear() {\n    this.__data__ = new ListCache();\n    this.size = 0;\n  }\n  /**\n   * Removes `key` and its value from the stack.\n   *\n   * @private\n   * @name delete\n   * @memberOf Stack\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n\n\n  function stackDelete(key) {\n    var data = this.__data__,\n        result = data['delete'](key);\n    this.size = data.size;\n    return result;\n  }\n  /**\n   * Gets the stack value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf Stack\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n\n\n  function stackGet(key) {\n    return this.__data__.get(key);\n  }\n  /**\n   * Checks if a stack value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf Stack\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n\n\n  function stackHas(key) {\n    return this.__data__.has(key);\n  }\n  /**\n   * Sets the stack `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf Stack\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the stack cache instance.\n   */\n\n\n  function stackSet(key, value) {\n    var data = this.__data__;\n\n    if (data instanceof ListCache) {\n      var pairs = data.__data__;\n\n      if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {\n        pairs.push([key, value]);\n        this.size = ++data.size;\n        return this;\n      }\n\n      data = this.__data__ = new MapCache(pairs);\n    }\n\n    data.set(key, value);\n    this.size = data.size;\n    return this;\n  } // Add methods to `Stack`.\n\n\n  Stack.prototype.clear = stackClear;\n  Stack.prototype['delete'] = stackDelete;\n  Stack.prototype.get = stackGet;\n  Stack.prototype.has = stackHas;\n  Stack.prototype.set = stackSet;\n  /**\n   * Creates an array of the enumerable property names of the array-like `value`.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @param {boolean} inherited Specify returning inherited property names.\n   * @returns {Array} Returns the array of property names.\n   */\n\n  function arrayLikeKeys(value, inherited) {\n    var isArr = isArray(value),\n        isArg = !isArr && isArguments(value),\n        isBuff = !isArr && !isArg && isBuffer(value),\n        isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n        skipIndexes = isArr || isArg || isBuff || isType,\n        result = skipIndexes ? baseTimes(value.length, String) : [],\n        length = result.length;\n\n    for (var key in value) {\n      if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && ( // Safari 9 has enumerable `arguments.length` in strict mode.\n      key == 'length' || // Node.js 0.10 has enumerable non-index properties on buffers.\n      isBuff && (key == 'offset' || key == 'parent') || // PhantomJS 2 has enumerable non-index properties on typed arrays.\n      isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset') || // Skip index properties.\n      isIndex(key, length)))) {\n        result.push(key);\n      }\n    }\n\n    return result;\n  }\n  /**\n   * Gets the index at which the `key` is found in `array` of key-value pairs.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} key The key to search for.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n\n\n  function assocIndexOf(array, key) {\n    var length = array.length;\n\n    while (length--) {\n      if (eq(array[length][0], key)) {\n        return length;\n      }\n    }\n\n    return -1;\n  }\n  /**\n   * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n   * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n   * symbols of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Function} keysFunc The function to get the keys of `object`.\n   * @param {Function} symbolsFunc The function to get the symbols of `object`.\n   * @returns {Array} Returns the array of property names and symbols.\n   */\n\n\n  function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n    var result = keysFunc(object);\n    return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n  }\n  /**\n   * The base implementation of `getTag` without fallbacks for buggy environments.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @returns {string} Returns the `toStringTag`.\n   */\n\n\n  function baseGetTag(value) {\n    if (value == null) {\n      return value === undefined ? undefinedTag : nullTag;\n    }\n\n    return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n  }\n  /**\n   * The base implementation of `_.isArguments`.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n   */\n\n\n  function baseIsArguments(value) {\n    return isObjectLike(value) && baseGetTag(value) == argsTag;\n  }\n  /**\n   * The base implementation of `_.isEqual` which supports partial comparisons\n   * and tracks traversed objects.\n   *\n   * @private\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @param {boolean} bitmask The bitmask flags.\n   *  1 - Unordered comparison\n   *  2 - Partial comparison\n   * @param {Function} [customizer] The function to customize comparisons.\n   * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   */\n\n\n  function baseIsEqual(value, other, bitmask, customizer, stack) {\n    if (value === other) {\n      return true;\n    }\n\n    if (value == null || other == null || !isObjectLike(value) && !isObjectLike(other)) {\n      return value !== value && other !== other;\n    }\n\n    return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n  }\n  /**\n   * A specialized version of `baseIsEqual` for arrays and objects which performs\n   * deep comparisons and tracks traversed objects enabling objects with circular\n   * references to be compared.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n   * @param {Function} customizer The function to customize comparisons.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n   */\n\n\n  function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n    var objIsArr = isArray(object),\n        othIsArr = isArray(other),\n        objTag = objIsArr ? arrayTag : getTag(object),\n        othTag = othIsArr ? arrayTag : getTag(other);\n    objTag = objTag == argsTag ? objectTag : objTag;\n    othTag = othTag == argsTag ? objectTag : othTag;\n    var objIsObj = objTag == objectTag,\n        othIsObj = othTag == objectTag,\n        isSameTag = objTag == othTag;\n\n    if (isSameTag && isBuffer(object)) {\n      if (!isBuffer(other)) {\n        return false;\n      }\n\n      objIsArr = true;\n      objIsObj = false;\n    }\n\n    if (isSameTag && !objIsObj) {\n      stack || (stack = new Stack());\n      return objIsArr || isTypedArray(object) ? equalArrays(object, other, bitmask, customizer, equalFunc, stack) : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n    }\n\n    if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n      var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n          othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n      if (objIsWrapped || othIsWrapped) {\n        var objUnwrapped = objIsWrapped ? object.value() : object,\n            othUnwrapped = othIsWrapped ? other.value() : other;\n        stack || (stack = new Stack());\n        return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n      }\n    }\n\n    if (!isSameTag) {\n      return false;\n    }\n\n    stack || (stack = new Stack());\n    return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n  }\n  /**\n   * The base implementation of `_.isNative` without bad shim checks.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a native function,\n   *  else `false`.\n   */\n\n\n  function baseIsNative(value) {\n    if (!isObject(value) || isMasked(value)) {\n      return false;\n    }\n\n    var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n    return pattern.test(toSource(value));\n  }\n  /**\n   * The base implementation of `_.isTypedArray` without Node.js optimizations.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n   */\n\n\n  function baseIsTypedArray(value) {\n    return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n  }\n  /**\n   * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   */\n\n\n  function baseKeys(object) {\n    if (!isPrototype(object)) {\n      return nativeKeys(object);\n    }\n\n    var result = [];\n\n    for (var key in Object(object)) {\n      if (hasOwnProperty.call(object, key) && key != 'constructor') {\n        result.push(key);\n      }\n    }\n\n    return result;\n  }\n  /**\n   * A specialized version of `baseIsEqualDeep` for arrays with support for\n   * partial deep comparisons.\n   *\n   * @private\n   * @param {Array} array The array to compare.\n   * @param {Array} other The other array to compare.\n   * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n   * @param {Function} customizer The function to customize comparisons.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Object} stack Tracks traversed `array` and `other` objects.\n   * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n   */\n\n\n  function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n    var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n        arrLength = array.length,\n        othLength = other.length;\n\n    if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n      return false;\n    } // Assume cyclic values are equal.\n\n\n    var stacked = stack.get(array);\n\n    if (stacked && stack.get(other)) {\n      return stacked == other;\n    }\n\n    var index = -1,\n        result = true,\n        seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache() : undefined;\n    stack.set(array, other);\n    stack.set(other, array); // Ignore non-index properties.\n\n    while (++index < arrLength) {\n      var arrValue = array[index],\n          othValue = other[index];\n\n      if (customizer) {\n        var compared = isPartial ? customizer(othValue, arrValue, index, other, array, stack) : customizer(arrValue, othValue, index, array, other, stack);\n      }\n\n      if (compared !== undefined) {\n        if (compared) {\n          continue;\n        }\n\n        result = false;\n        break;\n      } // Recursively compare arrays (susceptible to call stack limits).\n\n\n      if (seen) {\n        if (!arraySome(other, function (othValue, othIndex) {\n          if (!cacheHas(seen, othIndex) && (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n            return seen.push(othIndex);\n          }\n        })) {\n          result = false;\n          break;\n        }\n      } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n        result = false;\n        break;\n      }\n    }\n\n    stack['delete'](array);\n    stack['delete'](other);\n    return result;\n  }\n  /**\n   * A specialized version of `baseIsEqualDeep` for comparing objects of\n   * the same `toStringTag`.\n   *\n   * **Note:** This function only supports comparing values with tags of\n   * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {string} tag The `toStringTag` of the objects to compare.\n   * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n   * @param {Function} customizer The function to customize comparisons.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Object} stack Tracks traversed `object` and `other` objects.\n   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n   */\n\n\n  function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n    switch (tag) {\n      case dataViewTag:\n        if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {\n          return false;\n        }\n\n        object = object.buffer;\n        other = other.buffer;\n\n      case arrayBufferTag:\n        if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n          return false;\n        }\n\n        return true;\n\n      case boolTag:\n      case dateTag:\n      case numberTag:\n        // Coerce booleans to `1` or `0` and dates to milliseconds.\n        // Invalid dates are coerced to `NaN`.\n        return eq(+object, +other);\n\n      case errorTag:\n        return object.name == other.name && object.message == other.message;\n\n      case regexpTag:\n      case stringTag:\n        // Coerce regexes to strings and treat strings, primitives and objects,\n        // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n        // for more details.\n        return object == other + '';\n\n      case mapTag:\n        var convert = mapToArray;\n\n      case setTag:\n        var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n        convert || (convert = setToArray);\n\n        if (object.size != other.size && !isPartial) {\n          return false;\n        } // Assume cyclic values are equal.\n\n\n        var stacked = stack.get(object);\n\n        if (stacked) {\n          return stacked == other;\n        }\n\n        bitmask |= COMPARE_UNORDERED_FLAG; // Recursively compare objects (susceptible to call stack limits).\n\n        stack.set(object, other);\n        var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n        stack['delete'](object);\n        return result;\n\n      case symbolTag:\n        if (symbolValueOf) {\n          return symbolValueOf.call(object) == symbolValueOf.call(other);\n        }\n\n    }\n\n    return false;\n  }\n  /**\n   * A specialized version of `baseIsEqualDeep` for objects with support for\n   * partial deep comparisons.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n   * @param {Function} customizer The function to customize comparisons.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Object} stack Tracks traversed `object` and `other` objects.\n   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n   */\n\n\n  function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n    var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n        objProps = getAllKeys(object),\n        objLength = objProps.length,\n        othProps = getAllKeys(other),\n        othLength = othProps.length;\n\n    if (objLength != othLength && !isPartial) {\n      return false;\n    }\n\n    var index = objLength;\n\n    while (index--) {\n      var key = objProps[index];\n\n      if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n        return false;\n      }\n    } // Assume cyclic values are equal.\n\n\n    var stacked = stack.get(object);\n\n    if (stacked && stack.get(other)) {\n      return stacked == other;\n    }\n\n    var result = true;\n    stack.set(object, other);\n    stack.set(other, object);\n    var skipCtor = isPartial;\n\n    while (++index < objLength) {\n      key = objProps[index];\n      var objValue = object[key],\n          othValue = other[key];\n\n      if (customizer) {\n        var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);\n      } // Recursively compare objects (susceptible to call stack limits).\n\n\n      if (!(compared === undefined ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {\n        result = false;\n        break;\n      }\n\n      skipCtor || (skipCtor = key == 'constructor');\n    }\n\n    if (result && !skipCtor) {\n      var objCtor = object.constructor,\n          othCtor = other.constructor; // Non `Object` object instances with different constructors are not equal.\n\n      if (objCtor != othCtor && 'constructor' in object && 'constructor' in other && !(typeof objCtor == 'function' && objCtor instanceof objCtor && typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n        result = false;\n      }\n    }\n\n    stack['delete'](object);\n    stack['delete'](other);\n    return result;\n  }\n  /**\n   * Creates an array of own enumerable property names and symbols of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names and symbols.\n   */\n\n\n  function getAllKeys(object) {\n    return baseGetAllKeys(object, keys, getSymbols);\n  }\n  /**\n   * Gets the data for `map`.\n   *\n   * @private\n   * @param {Object} map The map to query.\n   * @param {string} key The reference key.\n   * @returns {*} Returns the map data.\n   */\n\n\n  function getMapData(map, key) {\n    var data = map.__data__;\n    return isKeyable(key) ? data[typeof key == 'string' ? 'string' : 'hash'] : data.map;\n  }\n  /**\n   * Gets the native function at `key` of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {string} key The key of the method to get.\n   * @returns {*} Returns the function if it's native, else `undefined`.\n   */\n\n\n  function getNative(object, key) {\n    var value = getValue(object, key);\n    return baseIsNative(value) ? value : undefined;\n  }\n  /**\n   * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @returns {string} Returns the raw `toStringTag`.\n   */\n\n\n  function getRawTag(value) {\n    var isOwn = hasOwnProperty.call(value, symToStringTag),\n        tag = value[symToStringTag];\n\n    try {\n      value[symToStringTag] = undefined;\n      var unmasked = true;\n    } catch (e) {}\n\n    var result = nativeObjectToString.call(value);\n\n    if (unmasked) {\n      if (isOwn) {\n        value[symToStringTag] = tag;\n      } else {\n        delete value[symToStringTag];\n      }\n    }\n\n    return result;\n  }\n  /**\n   * Creates an array of the own enumerable symbols of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of symbols.\n   */\n\n\n  var getSymbols = !nativeGetSymbols ? stubArray : function (object) {\n    if (object == null) {\n      return [];\n    }\n\n    object = Object(object);\n    return arrayFilter(nativeGetSymbols(object), function (symbol) {\n      return propertyIsEnumerable.call(object, symbol);\n    });\n  };\n  /**\n   * Gets the `toStringTag` of `value`.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @returns {string} Returns the `toStringTag`.\n   */\n\n  var getTag = baseGetTag; // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n\n  if (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag || Map && getTag(new Map()) != mapTag || Promise && getTag(Promise.resolve()) != promiseTag || Set && getTag(new Set()) != setTag || WeakMap && getTag(new WeakMap()) != weakMapTag) {\n    getTag = function (value) {\n      var result = baseGetTag(value),\n          Ctor = result == objectTag ? value.constructor : undefined,\n          ctorString = Ctor ? toSource(Ctor) : '';\n\n      if (ctorString) {\n        switch (ctorString) {\n          case dataViewCtorString:\n            return dataViewTag;\n\n          case mapCtorString:\n            return mapTag;\n\n          case promiseCtorString:\n            return promiseTag;\n\n          case setCtorString:\n            return setTag;\n\n          case weakMapCtorString:\n            return weakMapTag;\n        }\n      }\n\n      return result;\n    };\n  }\n  /**\n   * Checks if `value` is a valid array-like index.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n   * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n   */\n\n\n  function isIndex(value, length) {\n    length = length == null ? MAX_SAFE_INTEGER : length;\n    return !!length && (typeof value == 'number' || reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;\n  }\n  /**\n   * Checks if `value` is suitable for use as unique object key.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n   */\n\n\n  function isKeyable(value) {\n    var type = typeof value;\n    return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ? value !== '__proto__' : value === null;\n  }\n  /**\n   * Checks if `func` has its source masked.\n   *\n   * @private\n   * @param {Function} func The function to check.\n   * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n   */\n\n\n  function isMasked(func) {\n    return !!maskSrcKey && maskSrcKey in func;\n  }\n  /**\n   * Checks if `value` is likely a prototype object.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n   */\n\n\n  function isPrototype(value) {\n    var Ctor = value && value.constructor,\n        proto = typeof Ctor == 'function' && Ctor.prototype || objectProto;\n    return value === proto;\n  }\n  /**\n   * Converts `value` to a string using `Object.prototype.toString`.\n   *\n   * @private\n   * @param {*} value The value to convert.\n   * @returns {string} Returns the converted string.\n   */\n\n\n  function objectToString(value) {\n    return nativeObjectToString.call(value);\n  }\n  /**\n   * Converts `func` to its source code.\n   *\n   * @private\n   * @param {Function} func The function to convert.\n   * @returns {string} Returns the source code.\n   */\n\n\n  function toSource(func) {\n    if (func != null) {\n      try {\n        return funcToString.call(func);\n      } catch (e) {}\n\n      try {\n        return func + '';\n      } catch (e) {}\n    }\n\n    return '';\n  }\n  /**\n   * Performs a\n   * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n   * comparison between two values to determine if they are equivalent.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   * @example\n   *\n   * var object = { 'a': 1 };\n   * var other = { 'a': 1 };\n   *\n   * _.eq(object, object);\n   * // => true\n   *\n   * _.eq(object, other);\n   * // => false\n   *\n   * _.eq('a', 'a');\n   * // => true\n   *\n   * _.eq('a', Object('a'));\n   * // => false\n   *\n   * _.eq(NaN, NaN);\n   * // => true\n   */\n\n\n  function eq(value, other) {\n    return value === other || value !== value && other !== other;\n  }\n  /**\n   * Checks if `value` is likely an `arguments` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n   *  else `false`.\n   * @example\n   *\n   * _.isArguments(function() { return arguments; }());\n   * // => true\n   *\n   * _.isArguments([1, 2, 3]);\n   * // => false\n   */\n\n\n  var isArguments = baseIsArguments(function () {\n    return arguments;\n  }()) ? baseIsArguments : function (value) {\n    return isObjectLike(value) && hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n  };\n  /**\n   * Checks if `value` is classified as an `Array` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n   * @example\n   *\n   * _.isArray([1, 2, 3]);\n   * // => true\n   *\n   * _.isArray(document.body.children);\n   * // => false\n   *\n   * _.isArray('abc');\n   * // => false\n   *\n   * _.isArray(_.noop);\n   * // => false\n   */\n\n  var isArray = Array.isArray;\n  /**\n   * Checks if `value` is array-like. A value is considered array-like if it's\n   * not a function and has a `value.length` that's an integer greater than or\n   * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n   * @example\n   *\n   * _.isArrayLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isArrayLike(document.body.children);\n   * // => true\n   *\n   * _.isArrayLike('abc');\n   * // => true\n   *\n   * _.isArrayLike(_.noop);\n   * // => false\n   */\n\n  function isArrayLike(value) {\n    return value != null && isLength(value.length) && !isFunction(value);\n  }\n  /**\n   * Checks if `value` is a buffer.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.3.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n   * @example\n   *\n   * _.isBuffer(new Buffer(2));\n   * // => true\n   *\n   * _.isBuffer(new Uint8Array(2));\n   * // => false\n   */\n\n\n  var isBuffer = nativeIsBuffer || stubFalse;\n  /**\n   * Performs a deep comparison between two values to determine if they are\n   * equivalent.\n   *\n   * **Note:** This method supports comparing arrays, array buffers, booleans,\n   * date objects, error objects, maps, numbers, `Object` objects, regexes,\n   * sets, strings, symbols, and typed arrays. `Object` objects are compared\n   * by their own, not inherited, enumerable properties. Functions and DOM\n   * nodes are compared by strict equality, i.e. `===`.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   * @example\n   *\n   * var object = { 'a': 1 };\n   * var other = { 'a': 1 };\n   *\n   * _.isEqual(object, other);\n   * // => true\n   *\n   * object === other;\n   * // => false\n   */\n\n  function isEqual(value, other) {\n    return baseIsEqual(value, other);\n  }\n  /**\n   * Checks if `value` is classified as a `Function` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n   * @example\n   *\n   * _.isFunction(_);\n   * // => true\n   *\n   * _.isFunction(/abc/);\n   * // => false\n   */\n\n\n  function isFunction(value) {\n    if (!isObject(value)) {\n      return false;\n    } // The use of `Object#toString` avoids issues with the `typeof` operator\n    // in Safari 9 which returns 'object' for typed arrays and other constructors.\n\n\n    var tag = baseGetTag(value);\n    return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n  }\n  /**\n   * Checks if `value` is a valid array-like length.\n   *\n   * **Note:** This method is loosely based on\n   * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n   * @example\n   *\n   * _.isLength(3);\n   * // => true\n   *\n   * _.isLength(Number.MIN_VALUE);\n   * // => false\n   *\n   * _.isLength(Infinity);\n   * // => false\n   *\n   * _.isLength('3');\n   * // => false\n   */\n\n\n  function isLength(value) {\n    return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n  }\n  /**\n   * Checks if `value` is the\n   * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n   * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(_.noop);\n   * // => true\n   *\n   * _.isObject(null);\n   * // => false\n   */\n\n\n  function isObject(value) {\n    var type = typeof value;\n    return value != null && (type == 'object' || type == 'function');\n  }\n  /**\n   * Checks if `value` is object-like. A value is object-like if it's not `null`\n   * and has a `typeof` result of \"object\".\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   * @example\n   *\n   * _.isObjectLike({});\n   * // => true\n   *\n   * _.isObjectLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isObjectLike(_.noop);\n   * // => false\n   *\n   * _.isObjectLike(null);\n   * // => false\n   */\n\n\n  function isObjectLike(value) {\n    return value != null && typeof value == 'object';\n  }\n  /**\n   * Checks if `value` is classified as a typed array.\n   *\n   * @static\n   * @memberOf _\n   * @since 3.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n   * @example\n   *\n   * _.isTypedArray(new Uint8Array);\n   * // => true\n   *\n   * _.isTypedArray([]);\n   * // => false\n   */\n\n\n  var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n  /**\n   * Creates an array of the own enumerable property names of `object`.\n   *\n   * **Note:** Non-object values are coerced to objects. See the\n   * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n   * for more details.\n   *\n   * @static\n   * @since 0.1.0\n   * @memberOf _\n   * @category Object\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   * @example\n   *\n   * function Foo() {\n   *   this.a = 1;\n   *   this.b = 2;\n   * }\n   *\n   * Foo.prototype.c = 3;\n   *\n   * _.keys(new Foo);\n   * // => ['a', 'b'] (iteration order is not guaranteed)\n   *\n   * _.keys('hi');\n   * // => ['0', '1']\n   */\n\n  function keys(object) {\n    return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n  }\n  /**\n   * This method returns a new empty array.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.13.0\n   * @category Util\n   * @returns {Array} Returns the new empty array.\n   * @example\n   *\n   * var arrays = _.times(2, _.stubArray);\n   *\n   * console.log(arrays);\n   * // => [[], []]\n   *\n   * console.log(arrays[0] === arrays[1]);\n   * // => false\n   */\n\n\n  function stubArray() {\n    return [];\n  }\n  /**\n   * This method returns `false`.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.13.0\n   * @category Util\n   * @returns {boolean} Returns `false`.\n   * @example\n   *\n   * _.times(2, _.stubFalse);\n   * // => [false, false]\n   */\n\n\n  function stubFalse() {\n    return false;\n  }\n\n  module.exports = isEqual;\n});\nconst {\n  debug: debug$3\n} = debug_1;\nconst {\n  headers: headerUtils,\n  getPath,\n  getQuery,\n  normalizeUrl: normalizeUrl$2\n} = requestUtils;\n\nconst debuggableUrlFunc = func => url => {\n  debug$3('Actual url:', url);\n  return func(url);\n};\n\nconst stringMatchers = {\n  begin: targetString => debuggableUrlFunc(url => url.indexOf(targetString) === 0),\n  end: targetString => debuggableUrlFunc(url => url.substr(-targetString.length) === targetString),\n  glob: targetString => {\n    const urlRX = globToRegexp(targetString);\n    return debuggableUrlFunc(url => urlRX.test(url));\n  },\n  express: targetString => {\n    const urlRX = pathToRegexp_1(targetString);\n    return debuggableUrlFunc(url => urlRX.test(getPath(url)));\n  },\n  path: targetString => debuggableUrlFunc(url => getPath(url) === targetString)\n};\n\nconst getHeaderMatcher = ({\n  headers: expectedHeaders\n}) => {\n  debug$3('Generating header matcher');\n\n  if (!expectedHeaders) {\n    debug$3('  No header expectations defined - skipping');\n    return;\n  }\n\n  const expectation = headerUtils.toLowerCase(expectedHeaders);\n  debug$3('  Expected headers:', expectation);\n  return (url, {\n    headers = {}\n  }) => {\n    debug$3('Attempting to match headers');\n    const lowerCaseHeaders = headerUtils.toLowerCase(headerUtils.normalize(headers));\n    debug$3('  Expected headers:', expectation);\n    debug$3('  Actual headers:', lowerCaseHeaders);\n    return Object.keys(expectation).every(headerName => headerUtils.equal(lowerCaseHeaders[headerName], expectation[headerName]));\n  };\n};\n\nconst getMethodMatcher = ({\n  method: expectedMethod\n}) => {\n  debug$3('Generating method matcher');\n\n  if (!expectedMethod) {\n    debug$3('  No method expectations defined - skipping');\n    return;\n  }\n\n  debug$3('  Expected method:', expectedMethod);\n  return (url, {\n    method\n  }) => {\n    debug$3('Attempting to match method');\n    const actualMethod = method ? method.toLowerCase() : 'get';\n    debug$3('  Expected method:', expectedMethod);\n    debug$3('  Actual method:', actualMethod);\n    return expectedMethod === actualMethod;\n  };\n};\n\nconst getQueryStringMatcher = ({\n  query: expectedQuery\n}) => {\n  debug$3('Generating query parameters matcher');\n\n  if (!expectedQuery) {\n    debug$3('  No query parameters expectations defined - skipping');\n    return;\n  }\n\n  debug$3('  Expected query parameters:', expectedQuery);\n  const keys = Object.keys(expectedQuery);\n  return url => {\n    debug$3('Attempting to match query parameters');\n    const query = querystring.parse(getQuery(url));\n    debug$3('  Expected query parameters:', expectedQuery);\n    debug$3('  Actual query parameters:', query);\n    return keys.every(key => query[key] === expectedQuery[key]);\n  };\n};\n\nconst getParamsMatcher = ({\n  params: expectedParams,\n  url: matcherUrl\n}) => {\n  debug$3('Generating path parameters matcher');\n\n  if (!expectedParams) {\n    debug$3('  No path parameters expectations defined - skipping');\n    return;\n  }\n\n  if (!/express:/.test(matcherUrl)) {\n    throw new Error('fetch-mock: matching on params is only possible when using an express: matcher');\n  }\n\n  debug$3('  Expected path parameters:', expectedParams);\n  const expectedKeys = Object.keys(expectedParams);\n  const keys = [];\n  const re = pathToRegexp_1(matcherUrl.replace(/^express:/, ''), keys);\n  return url => {\n    debug$3('Attempting to match path parameters');\n    const vals = re.exec(getPath(url)) || [];\n    vals.shift();\n    const params = keys.reduce((map, {\n      name\n    }, i) => vals[i] ? Object.assign(map, {\n      [name]: vals[i]\n    }) : map, {});\n    debug$3('  Expected path parameters:', expectedParams);\n    debug$3('  Actual path parameters:', params);\n    return expectedKeys.every(key => params[key] === expectedParams[key]);\n  };\n};\n\nconst getBodyMatcher = (route, fetchMock) => {\n  const matchPartialBody = fetchMock.getOption('matchPartialBody', route);\n  const {\n    body: expectedBody\n  } = route;\n  debug$3('Generating body matcher');\n  return (url, {\n    body,\n    method = 'get'\n  }) => {\n    debug$3('Attempting to match body');\n\n    if (method.toLowerCase() === 'get') {\n      debug$3('  GET request - skip matching body'); // GET requests dont send a body so the body matcher should be ignored for them\n\n      return true;\n    }\n\n    let sentBody;\n\n    try {\n      debug$3('  Parsing request body as JSON');\n      sentBody = JSON.parse(body);\n    } catch (err) {\n      debug$3('  Failed to parse request body as JSON', err);\n    }\n\n    debug$3('Expected body:', expectedBody);\n    debug$3('Actual body:', sentBody);\n\n    if (matchPartialBody) {\n      debug$3('matchPartialBody is true - checking for partial match only');\n    }\n\n    return sentBody && (matchPartialBody ? isSubset_1(sentBody, expectedBody) : lodash_isequal(sentBody, expectedBody));\n  };\n};\n\nconst getFullUrlMatcher = (route, matcherUrl, query) => {\n  // if none of the special syntaxes apply, it's just a simple string match\n  // but we have to be careful to normalize the url we check and the name\n  // of the route to allow for e.g. http://it.at.there being indistinguishable\n  // from http://it.at.there/ once we start generating Request/Url objects\n  debug$3('  Matching using full url', matcherUrl);\n  const expectedUrl = normalizeUrl$2(matcherUrl);\n  debug$3('  Normalised url to:', matcherUrl);\n\n  if (route.identifier === matcherUrl) {\n    debug$3('  Updating route identifier to match normalized url:', matcherUrl);\n    route.identifier = expectedUrl;\n  }\n\n  return matcherUrl => {\n    debug$3('Expected url:', expectedUrl);\n    debug$3('Actual url:', matcherUrl);\n\n    if (query && expectedUrl.indexOf('?')) {\n      debug$3('Ignoring query string when matching url');\n      return matcherUrl.indexOf(expectedUrl) === 0;\n    }\n\n    return normalizeUrl$2(matcherUrl) === expectedUrl;\n  };\n};\n\nconst getFunctionMatcher = ({\n  functionMatcher\n}) => {\n  debug$3('Detected user defined function matcher', functionMatcher);\n  return (...args) => {\n    debug$3('Calling function matcher with arguments', args);\n    return functionMatcher(...args);\n  };\n};\n\nconst getUrlMatcher = route => {\n  debug$3('Generating url matcher');\n  const {\n    url: matcherUrl,\n    query\n  } = route;\n\n  if (matcherUrl === '*') {\n    debug$3('  Using universal * rule to match any url');\n    return () => true;\n  }\n\n  if (matcherUrl instanceof RegExp) {\n    debug$3('  Using regular expression to match url:', matcherUrl);\n    return url => matcherUrl.test(url);\n  }\n\n  if (matcherUrl.href) {\n    debug$3(`  Using URL object to match url`, matcherUrl);\n    return getFullUrlMatcher(route, matcherUrl.href, query);\n  }\n\n  for (const shorthand in stringMatchers) {\n    if (matcherUrl.indexOf(shorthand + ':') === 0) {\n      debug$3(`  Using ${shorthand}: pattern to match url`, matcherUrl);\n      const urlFragment = matcherUrl.replace(new RegExp(`^${shorthand}:`), '');\n      return stringMatchers[shorthand](urlFragment);\n    }\n  }\n\n  return getFullUrlMatcher(route, matcherUrl, query);\n};\n\nconst FetchMock$3 = {};\nFetchMock$3._matchers = [];\n\nFetchMock$3.addMatcher = function (matcher) {\n  this._matchers.push(matcher);\n};\n\nFetchMock$3.addMatcher({\n  name: 'query',\n  matcher: getQueryStringMatcher\n});\nFetchMock$3.addMatcher({\n  name: 'method',\n  matcher: getMethodMatcher\n});\nFetchMock$3.addMatcher({\n  name: 'headers',\n  matcher: getHeaderMatcher\n});\nFetchMock$3.addMatcher({\n  name: 'params',\n  matcher: getParamsMatcher\n});\nFetchMock$3.addMatcher({\n  name: 'body',\n  matcher: getBodyMatcher,\n  usesBody: true\n});\nFetchMock$3.addMatcher({\n  name: 'functionMatcher',\n  matcher: getFunctionMatcher\n});\nFetchMock$3.addMatcher({\n  name: 'url',\n  matcher: getUrlMatcher\n});\nvar matchers = FetchMock$3;\nconst {\n  debug: debug$4,\n  setDebugNamespace: setDebugNamespace$1,\n  getDebug: getDebug$2\n} = debug_1;\n\nconst isUrlMatcher = matcher => matcher instanceof RegExp || typeof matcher === 'string' || typeof matcher === 'object' && 'href' in matcher;\n\nconst isFunctionMatcher = matcher => typeof matcher === 'function';\n\nconst argsToRoute = args => {\n  const [matcher, response, options = {}] = args;\n  const routeConfig = {};\n\n  if (isUrlMatcher(matcher) || isFunctionMatcher(matcher)) {\n    routeConfig.matcher = matcher;\n  } else {\n    Object.assign(routeConfig, matcher);\n  }\n\n  if (typeof response !== 'undefined') {\n    routeConfig.response = response;\n  }\n\n  Object.assign(routeConfig, options);\n  return routeConfig;\n};\n\nconst sanitizeRoute = route => {\n  const debug = getDebug$2('sanitizeRoute()');\n  debug('Sanitizing route properties');\n  route = Object.assign({}, route);\n\n  if (route.method) {\n    debug(`Converting method ${route.method} to lower case`);\n    route.method = route.method.toLowerCase();\n  }\n\n  if (isUrlMatcher(route.matcher)) {\n    debug('Mock uses a url matcher', route.matcher);\n    route.url = route.matcher;\n    delete route.matcher;\n  }\n\n  route.functionMatcher = route.matcher || route.functionMatcher;\n  debug('Setting route.identifier...');\n  debug(`  route.name is ${route.name}`);\n  debug(`  route.url is ${route.url}`);\n  debug(`  route.functionMatcher is ${route.functionMatcher}`);\n  route.identifier = route.name || route.url || route.functionMatcher;\n  debug(`  -> route.identifier set to ${route.identifier}`);\n  return route;\n};\n\nconst validateRoute = function (route) {\n  if (!('response' in route)) {\n    throw new Error('fetch-mock: Each route must define a response');\n  }\n\n  if (!this._matchers.some(({\n    name\n  }) => name in route)) {\n    throw new Error(\"fetch-mock: Each route must specify some criteria for matching calls to fetch. To match all calls use '*'\");\n  }\n};\n\nconst limit = route => {\n  const debug = getDebug$2('limit()');\n  debug('Limiting number of requests to handle by route');\n\n  if (!route.repeat) {\n    debug('  No `repeat` value set on route. Will match any number of requests');\n    return;\n  }\n\n  debug(`  Route set to repeat ${route.repeat} times`);\n  const matcher = route.matcher;\n  let timesLeft = route.repeat;\n\n  route.matcher = (url, options) => {\n    const match = timesLeft && matcher(url, options);\n\n    if (match) {\n      timesLeft--;\n      return true;\n    }\n  };\n\n  route.reset = () => timesLeft = route.repeat;\n};\n\nconst delayResponse = route => {\n  const debug = getDebug$2('delayResponse()');\n  debug(`Applying response delay settings`);\n  const {\n    delay\n  } = route;\n\n  if (delay) {\n    debug(`  Wrapping response in delay of ${delay} miliseconds`);\n    const response = route.response;\n\n    route.response = () => {\n      debug(`Delaying response by ${delay} miliseconds`);\n      return new Promise(res => setTimeout(() => res(response), delay));\n    };\n  } else {\n    debug(`  No delay set on route. Will respond 'immediately' (but asynchronously)`);\n  }\n};\n\nconst generateMatcher = function (route) {\n  setDebugNamespace$1('generateMatcher()');\n  debug$4('Compiling matcher for route');\n\n  const matchers = this._matchers.map(({\n    name,\n    matcher,\n    usesBody\n  }) => route[name] && {\n    matcher: matcher(route, this),\n    usesBody\n  }).filter(matcher => Boolean(matcher));\n\n  route.usesBody = matchers.some(({\n    usesBody\n  }) => usesBody);\n  debug$4('Compiled matcher for route');\n  setDebugNamespace$1();\n  return (url, options = {}, request) => matchers.every(({\n    matcher\n  }) => matcher(url, options, request));\n};\n\nconst compileRoute = function (args) {\n  const debug = getDebug$2('compileRoute()');\n  debug('Compiling route');\n  const route = sanitizeRoute(argsToRoute(args));\n  this.validateRoute(route);\n  route.matcher = this.generateMatcher(route);\n  limit(route);\n  delayResponse(route);\n  return route;\n};\n\nvar compileRoute_1 = {\n  compileRoute,\n  sanitizeRoute,\n  generateMatcher,\n  validateRoute\n};\nconst {\n  debug: debug$5\n} = debug_1;\nconst FetchMock$4 = Object.assign({}, fetchHandler, setUpAndTearDown, inspecting, compileRoute_1, matchers);\nFetchMock$4.config = {\n  fallbackToNetwork: false,\n  includeContentLength: true,\n  sendAsJson: true,\n  warnOnFallback: true,\n  overwriteRoutes: undefined\n};\n\nFetchMock$4.createInstance = function () {\n  debug$5('Creating fetch-mock instance');\n  const instance = Object.create(FetchMock$4);\n  instance._uncompiledRoutes = (this._uncompiledRoutes || []).slice();\n  instance._matchers = this._matchers.slice();\n  instance.routes = instance._uncompiledRoutes.map(config => instance.compileRoute(config));\n  instance.fallbackResponse = this.fallbackResponse || undefined;\n  instance.config = Object.assign({}, this.config || FetchMock$4.config);\n  instance._calls = [];\n  instance._holdingPromises = [];\n  instance.bindMethods();\n  return instance;\n};\n\nFetchMock$4.bindMethods = function () {\n  this.fetchHandler = FetchMock$4.fetchHandler.bind(this);\n  this.reset = this.restore = FetchMock$4.reset.bind(this);\n  this.resetHistory = FetchMock$4.resetHistory.bind(this);\n  this.resetBehavior = FetchMock$4.resetBehavior.bind(this);\n};\n\nFetchMock$4.sandbox = function () {\n  debug$5('Creating sandboxed fetch-mock instance'); // this construct allows us to create a fetch-mock instance which is also\n  // a callable function, while circumventing circularity when defining the\n  // object that this function should be bound to\n\n  const fetchMockProxy = (url, options) => sandbox.fetchHandler(url, options);\n\n  const sandbox = Object.assign(fetchMockProxy, // Ensures that the entire returned object is a callable function\n  FetchMock$4, // prototype methods\n  this.createInstance(), // instance data\n  {\n    Headers: this.config.Headers,\n    Request: this.config.Request,\n    Response: this.config.Response\n  });\n  sandbox.bindMethods();\n  sandbox.isSandbox = true;\n  sandbox.default = sandbox;\n  return sandbox;\n};\n\nFetchMock$4.getOption = function (name, route = {}) {\n  return name in route ? route[name] : this.config[name];\n};\n\nvar lib = FetchMock$4;\nconst statusTextMap = {\n  '100': 'Continue',\n  '101': 'Switching Protocols',\n  '102': 'Processing',\n  '200': 'OK',\n  '201': 'Created',\n  '202': 'Accepted',\n  '203': 'Non-Authoritative Information',\n  '204': 'No Content',\n  '205': 'Reset Content',\n  '206': 'Partial Content',\n  '207': 'Multi-Status',\n  '208': 'Already Reported',\n  '226': 'IM Used',\n  '300': 'Multiple Choices',\n  '301': 'Moved Permanently',\n  '302': 'Found',\n  '303': 'See Other',\n  '304': 'Not Modified',\n  '305': 'Use Proxy',\n  '307': 'Temporary Redirect',\n  '308': 'Permanent Redirect',\n  '400': 'Bad Request',\n  '401': 'Unauthorized',\n  '402': 'Payment Required',\n  '403': 'Forbidden',\n  '404': 'Not Found',\n  '405': 'Method Not Allowed',\n  '406': 'Not Acceptable',\n  '407': 'Proxy Authentication Required',\n  '408': 'Request Timeout',\n  '409': 'Conflict',\n  '410': 'Gone',\n  '411': 'Length Required',\n  '412': 'Precondition Failed',\n  '413': 'Payload Too Large',\n  '414': 'URI Too Long',\n  '415': 'Unsupported Media Type',\n  '416': 'Range Not Satisfiable',\n  '417': 'Expectation Failed',\n  '418': \"I'm a teapot\",\n  '421': 'Misdirected Request',\n  '422': 'Unprocessable Entity',\n  '423': 'Locked',\n  '424': 'Failed Dependency',\n  '425': 'Unordered Collection',\n  '426': 'Upgrade Required',\n  '428': 'Precondition Required',\n  '429': 'Too Many Requests',\n  '431': 'Request Header Fields Too Large',\n  '451': 'Unavailable For Legal Reasons',\n  '500': 'Internal Server Error',\n  '501': 'Not Implemented',\n  '502': 'Bad Gateway',\n  '503': 'Service Unavailable',\n  '504': 'Gateway Timeout',\n  '505': 'HTTP Version Not Supported',\n  '506': 'Variant Also Negotiates',\n  '507': 'Insufficient Storage',\n  '508': 'Loop Detected',\n  '509': 'Bandwidth Limit Exceeded',\n  '510': 'Not Extended',\n  '511': 'Network Authentication Required'\n};\nvar statusText = statusTextMap;\nconst theGlobal = typeof window !== 'undefined' ? window : self;\nconst {\n  setUrlImplementation\n} = requestUtils;\nsetUrlImplementation(theGlobal.URL);\nlib.global = theGlobal;\nlib.statusTextMap = statusText;\nlib.config = Object.assign(lib.config, {\n  Promise: theGlobal.Promise,\n  Request: theGlobal.Request,\n  Response: theGlobal.Response,\n  Headers: theGlobal.Headers\n});\nvar client = lib.createInstance();\nexport default client;","map":{"version":3,"sources":["C:/Users/DELL/Desktop/ReactJS/covid-map/node_modules/fetch-mock/esm/client.js"],"names":["commonjsGlobal","globalThis","window","global","self","unwrapExports","x","__esModule","Object","prototype","hasOwnProperty","call","createCommonjsModule","fn","module","exports","s","m","h","d","w","y","ms","val","options","type","length","parse","isFinite","long","fmtLong","fmtShort","Error","JSON","stringify","str","String","match","exec","n","parseFloat","toLowerCase","undefined","msAbs","Math","abs","round","plural","name","isPlural","setup","env","createDebug","debug","default","coerce","disable","enable","enabled","humanize","keys","forEach","key","instances","names","skips","formatters","selectColor","namespace","hash","i","charCodeAt","colors","prevTime","args","curr","Number","Date","diff","prev","unshift","index","replace","format","formatter","splice","formatArgs","logFn","log","apply","useColors","color","destroy","extend","init","push","indexOf","delimiter","newDebug","namespaces","save","split","len","RegExp","substr","instance","map","toNamespace","join","test","regexp","toString","substring","stack","message","load","common","browser","storage","localstorage","process","__nwjs","navigator","userAgent","document","documentElement","style","WebkitAppearance","console","firebug","exception","table","parseInt","$1","c","lastC","setItem","removeItem","error","r","getItem","DEBUG","localStorage","j","v","browser_1","browser_2","browser_3","browser_4","browser_5","browser_6","browser_7","debugFunc","phase","newDebugSandbox","ns","debug_1","setDebugNamespace","setDebugPhase","getDebug","FetchMock","mock","addRoute","_mock","uncompiledRoute","route","compileRoute","clashes","routes","filter","identifier","method","getOption","_uncompiledRoutes","clash","isSandbox","realFetch","fetch","fetchHandler","catch","response","fallbackResponse","warn","spy","getNativeFetch","defineShorthand","methodName","underlyingMethod","shorthandOptions","matcher","assign","defineGreedyShorthand","repeat","resetBehavior","resetHistory","_calls","_holdingPromises","reset","restore","setUpAndTearDown","responseConfigProps","ResponseBuilder","constructor","normalizeResponseConfig","constructFetchOpts","constructResponseBody","buildObservableResponse","fetchMock","config","Response","body","sendAsObject","some","prop","responseConfig","every","includes","status","validateStatus","TypeError","url","redirectUrl","statusText","statusTextMap","headers","Headers","convertToJson","has","set","setContentLength","Stream","stream","Readable","Proxy","get","originalResponse","func","thisArg","result","then","responseBuilder","URL","absoluteUrlRX","headersToArray","raw","entries","Symbol","iterator","zipObject","reduce","obj","normalizeUrl","u","href","pathname","search","extractBody","request","clone","text","err","requestUtils","setUrlImplementation","it","normalizeRequest","Request","isPrototypeOf","derivedOptions","normalizedRequestObject","signal","getPath","getQuery","normalize","k","equal","actualHeader","expectedHeader","Array","isArray","debug$1","setDebugPhase$1","getDebug$1","FetchMock$1","AbortError","arguments","captureStackTrace","resolve","responseIsFetch","normalizedRequest","usesBody","_asyncFetchHandler","_fetchHandler","executeRouter","done","Promise","res","rej","abort","DOMException","aborted","addEventListener","generateResponse","isMock","router","isUnmatched","throws","find","setDebugPhase$2","debug$2","normalizeUrl$1","FetchMock$2","isName","nameOrMatcher","filterCallsWithMatcher","calls","generateMatcher","sanitizeRoute","formatDebug","filterCalls","lastCall","pop","lastUrl","lastOptions","called","Boolean","flush","waitForResponseMethods","queuedPromises","all","routesToCheck","expectedTimes","actualTimes","isDone","inspecting","globToRegexp","glob","opts","reStr","extended","globstar","inGroup","flags","prevChar","starCount","nextChar","isGlobstar","pathToRegexp_1","pathToRegexp","parse_1","parse$1","compile_1","compile","tokensToFunction_1","tokensToFunction","tokensToRegExp_1","tokensToRegExp","DEFAULT_DELIMITER","DEFAULT_DELIMITERS","PATH_REGEXP","tokens","path","defaultDelimiter","delimiters","pathEscaped","escaped","offset","slice","next","capture","group","modifier","partial","optional","pattern","prefix","escapeGroup","escapeString","matches","data","encode","encodeURIComponent","token","value","segment","sensitive","regexpToRegexp","groups","source","arrayToRegexp","parts","stringToRegexp","strict","start","end","endsWith","concat","isEndDelimited","decode","qs","sep","eq","maxKeys","idx","kstr","vstr","decodeURIComponent","stringifyPrimitive","ks","querystring","querystring_1","querystring_2","querystring_3","querystring_4","isSubset_1","defineProperty","isSubset","_isSubset","_x","_x2","superset","subset","propertyIsEnumerable","subsetItem","supersetItem","lodash_isequal","LARGE_ARRAY_SIZE","HASH_UNDEFINED","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","MAX_SAFE_INTEGER","argsTag","arrayTag","asyncTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","nullTag","objectTag","promiseTag","proxyTag","regexpTag","setTag","stringTag","symbolTag","undefinedTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reRegExpChar","reIsHostCtor","reIsUint","typedArrayTags","freeGlobal","freeSelf","root","Function","freeExports","nodeType","freeModule","moduleExports","freeProcess","nodeUtil","binding","e","nodeIsTypedArray","isTypedArray","arrayFilter","array","predicate","resIndex","arrayPush","values","arraySome","baseTimes","iteratee","baseUnary","cacheHas","cache","getValue","object","mapToArray","size","overArg","transform","arg","setToArray","arrayProto","funcProto","objectProto","coreJsData","funcToString","maskSrcKey","uid","IE_PROTO","nativeObjectToString","reIsNative","Buffer","Uint8Array","symToStringTag","toStringTag","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeKeys","DataView","getNative","Map","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","Hash","clear","entry","hashClear","__data__","hashDelete","hashGet","hashHas","hashSet","ListCache","listCacheClear","listCacheDelete","assocIndexOf","lastIndex","listCacheGet","listCacheHas","listCacheSet","MapCache","mapCacheClear","mapCacheDelete","getMapData","mapCacheGet","mapCacheHas","mapCacheSet","SetCache","add","setCacheAdd","setCacheHas","Stack","stackClear","stackDelete","stackGet","stackHas","stackSet","pairs","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","isIndex","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","getRawTag","objectToString","baseIsArguments","isObjectLike","baseIsEqual","other","bitmask","customizer","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","getTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","equalObjects","baseIsNative","isObject","isMasked","isFunction","baseIsTypedArray","isLength","baseKeys","isPrototype","isPartial","arrLength","othLength","stacked","seen","arrValue","othValue","compared","othIndex","tag","byteLength","byteOffset","buffer","convert","objProps","getAllKeys","objLength","othProps","skipCtor","objValue","objCtor","othCtor","getSymbols","isKeyable","isOwn","unmasked","stubArray","symbol","ArrayBuffer","Ctor","ctorString","proto","isArrayLike","stubFalse","isEqual","debug$3","headerUtils","normalizeUrl$2","debuggableUrlFunc","stringMatchers","begin","targetString","urlRX","express","getHeaderMatcher","expectedHeaders","expectation","lowerCaseHeaders","headerName","getMethodMatcher","expectedMethod","actualMethod","getQueryStringMatcher","query","expectedQuery","getParamsMatcher","params","expectedParams","matcherUrl","expectedKeys","re","vals","shift","getBodyMatcher","matchPartialBody","expectedBody","sentBody","getFullUrlMatcher","expectedUrl","getFunctionMatcher","functionMatcher","getUrlMatcher","shorthand","urlFragment","FetchMock$3","_matchers","addMatcher","matchers","debug$4","setDebugNamespace$1","getDebug$2","isUrlMatcher","isFunctionMatcher","argsToRoute","routeConfig","validateRoute","limit","timesLeft","delayResponse","delay","setTimeout","compileRoute_1","debug$5","FetchMock$4","fallbackToNetwork","includeContentLength","sendAsJson","warnOnFallback","overwriteRoutes","createInstance","create","bindMethods","bind","sandbox","fetchMockProxy","lib","theGlobal","client"],"mappings":"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","sourcesContent":["var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nvar ms = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = ms;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nvar common = setup;\n\nvar browser = createCommonjsModule(function (module, exports) {\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = common(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n});\nvar browser_1 = browser.log;\nvar browser_2 = browser.formatArgs;\nvar browser_3 = browser.save;\nvar browser_4 = browser.load;\nvar browser_5 = browser.useColors;\nvar browser_6 = browser.storage;\nvar browser_7 = browser.colors;\n\nlet debugFunc;\nlet phase = 'default';\nlet namespace = '';\nconst newDebug = () => {\n\tdebugFunc = namespace\n\t\t? browser(`fetch-mock:${phase}:${namespace}`)\n\t\t: browser(`fetch-mock:${phase}`);\n};\n\nconst newDebugSandbox = ns => browser(`fetch-mock:${phase}:${ns}`);\n\nnewDebug();\n\nvar debug_1 = {\n\tdebug: (...args) => {\n\t\tdebugFunc(...args);\n\t},\n\tsetDebugNamespace: str => {\n\t\tnamespace = str;\n\t\tnewDebug();\n\t},\n\tsetDebugPhase: str => {\n\t\tphase = str || 'default';\n\t\tnewDebug();\n\t},\n\tgetDebug: namespace => newDebugSandbox(namespace)\n};\n\nconst { debug, setDebugPhase } = debug_1;\nconst FetchMock = {};\n\nFetchMock.mock = function(...args) {\n\tsetDebugPhase('setup');\n\tif (args.length) {\n\t\tthis.addRoute(args);\n\t}\n\n\treturn this._mock();\n};\n\nFetchMock.addRoute = function(uncompiledRoute) {\n\tdebug('Adding route', uncompiledRoute);\n\tconst route = this.compileRoute(uncompiledRoute);\n\tconst clashes = this.routes.filter(\n\t\t({ identifier, method }) =>\n\t\t\tidentifier === route.identifier &&\n\t\t\t(!method || !route.method || method === route.method)\n\t);\n\n\tif (this.getOption('overwriteRoutes', route) === false || !clashes.length) {\n\t\tthis._uncompiledRoutes.push(uncompiledRoute);\n\t\treturn this.routes.push(route);\n\t}\n\n\tif (this.getOption('overwriteRoutes', route) === true) {\n\t\tclashes.forEach(clash => {\n\t\t\tconst index = this.routes.indexOf(clash);\n\t\t\tthis._uncompiledRoutes.splice(index, 1, uncompiledRoute);\n\t\t\tthis.routes.splice(index, 1, route);\n\t\t});\n\t\treturn this.routes;\n\t}\n\n\tif (clashes.length) {\n\t\tthrow new Error(\n\t\t\t'fetch-mock: Adding route with same name or matcher as existing route. See `overwriteRoutes` option.'\n\t\t);\n\t}\n\n\tthis._uncompiledRoutes.push(uncompiledRoute);\n\tthis.routes.push(route);\n};\n\nFetchMock._mock = function() {\n\tif (!this.isSandbox) {\n\t\t// Do this here rather than in the constructor to ensure it's scoped to the test\n\t\tthis.realFetch = this.realFetch || this.global.fetch;\n\t\tthis.global.fetch = this.fetchHandler;\n\t}\n\tsetDebugPhase();\n\treturn this;\n};\n\nFetchMock.catch = function(response) {\n\tif (this.fallbackResponse) {\n\t\tconsole.warn(\n\t\t\t'calling fetchMock.catch() twice - are you sure you want to overwrite the previous fallback response'\n\t\t); // eslint-disable-line\n\t}\n\tthis.fallbackResponse = response || 'ok';\n\treturn this._mock();\n};\n\nFetchMock.spy = function() {\n\tthis._mock();\n\treturn this.catch(this.getNativeFetch());\n};\n\nconst defineShorthand = (methodName, underlyingMethod, shorthandOptions) => {\n\tFetchMock[methodName] = function(matcher, response, options) {\n\t\treturn this[underlyingMethod](\n\t\t\tmatcher,\n\t\t\tresponse,\n\t\t\tObject.assign(options || {}, shorthandOptions)\n\t\t);\n\t};\n};\n\nconst defineGreedyShorthand = (methodName, underlyingMethod) => {\n\tFetchMock[methodName] = function(response, options) {\n\t\treturn this[underlyingMethod]({}, response, options);\n\t};\n};\n\ndefineShorthand('once', 'mock', { repeat: 1 });\ndefineGreedyShorthand('any', 'mock');\ndefineGreedyShorthand('anyOnce', 'once');\n\n['get', 'post', 'put', 'delete', 'head', 'patch'].forEach(method => {\n\tdefineShorthand(method, 'mock', { method });\n\tdefineShorthand(`${method}Once`, 'once', { method });\n\tdefineGreedyShorthand(`${method}Any`, method);\n\tdefineGreedyShorthand(`${method}AnyOnce`, `${method}Once`);\n});\n\nFetchMock.resetBehavior = function() {\n\tif (this.realFetch) {\n\t\tthis.global.fetch = this.realFetch;\n\t\tthis.realFetch = undefined;\n\t}\n\tthis.fallbackResponse = undefined;\n\tthis.routes = [];\n\tthis._uncompiledRoutes = [];\n\treturn this;\n};\n\nFetchMock.resetHistory = function() {\n\tthis._calls = [];\n\tthis._holdingPromises = [];\n\tthis.routes.forEach(route => route.reset && route.reset());\n\treturn this;\n};\n\nFetchMock.restore = FetchMock.reset = function() {\n\tthis.resetBehavior();\n\tthis.resetHistory();\n\treturn this;\n};\n\nvar setUpAndTearDown = FetchMock;\n\nconst { getDebug } = debug_1;\nconst responseConfigProps = [\n\t'body',\n\t'headers',\n\t'throws',\n\t'status',\n\t'redirectUrl'\n];\n\nclass ResponseBuilder {\n\tconstructor(options) {\n\t\tthis.debug = getDebug('ResponseBuilder()');\n\t\tthis.debug('Response builder created with options', options);\n\t\tObject.assign(this, options);\n\t}\n\n\texec() {\n\t\tthis.debug('building response');\n\t\tthis.normalizeResponseConfig();\n\t\tthis.constructFetchOpts();\n\t\tthis.constructResponseBody();\n\t\treturn this.buildObservableResponse(\n\t\t\tnew this.fetchMock.config.Response(this.body, this.options)\n\t\t);\n\t}\n\n\tsendAsObject() {\n\t\tif (responseConfigProps.some(prop => this.responseConfig[prop])) {\n\t\t\tif (\n\t\t\t\tObject.keys(this.responseConfig).every(key =>\n\t\t\t\t\tresponseConfigProps.includes(key)\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tnormalizeResponseConfig() {\n\t\t// If the response config looks like a status, start to generate a simple response\n\t\tif (typeof this.responseConfig === 'number') {\n\t\t\tthis.debug('building response using status', this.responseConfig);\n\t\t\tthis.responseConfig = {\n\t\t\t\tstatus: this.responseConfig\n\t\t\t};\n\t\t\t// If the response config is not an object, or is an object that doesn't use\n\t\t\t// any reserved properties, assume it is meant to be the body of the response\n\t\t} else if (typeof this.responseConfig === 'string' || this.sendAsObject()) {\n\t\t\tthis.debug('building text response from', this.responseConfig);\n\t\t\tthis.responseConfig = {\n\t\t\t\tbody: this.responseConfig\n\t\t\t};\n\t\t}\n\t}\n\n\tvalidateStatus(status) {\n\t\tif (!status) {\n\t\t\tthis.debug('No status provided. Defaulting to 200');\n\t\t\treturn 200;\n\t\t}\n\n\t\tif (\n\t\t\t(typeof status === 'number' &&\n\t\t\t\tparseInt(status, 10) !== status &&\n\t\t\t\tstatus >= 200) ||\n\t\t\tstatus < 600\n\t\t) {\n\t\t\tthis.debug('Valid status provided', status);\n\t\t\treturn status;\n\t\t}\n\n\t\tthrow new TypeError(`fetch-mock: Invalid status ${status} passed on response object.\nTo respond with a JSON object that has status as a property assign the object to body\ne.g. {\"body\": {\"status: \"registered\"}}`);\n\t}\n\n\tconstructFetchOpts() {\n\t\tthis.options = this.responseConfig.options || {};\n\t\tthis.options.url = this.responseConfig.redirectUrl || this.url;\n\t\tthis.options.status = this.validateStatus(this.responseConfig.status);\n\t\tthis.options.statusText = this.fetchMock.statusTextMap[\n\t\t\tString(this.options.status)\n\t\t];\n\t\t// Set up response headers. The empty object is to cope with\n\t\t// new Headers(undefined) throwing in Chrome\n\t\t// https://code.google.com/p/chromium/issues/detail?id=335871\n\t\tthis.options.headers = new this.fetchMock.config.Headers(\n\t\t\tthis.responseConfig.headers || {}\n\t\t);\n\t}\n\n\tgetOption(name) {\n\t\treturn this.fetchMock.getOption(name, this.route);\n\t}\n\n\tconvertToJson() {\n\t\t// convert to json if we need to\n\t\tif (\n\t\t\tthis.getOption('sendAsJson') &&\n\t\t\tthis.responseConfig.body != null && //eslint-disable-line\n\t\t\ttypeof this.body === 'object'\n\t\t) {\n\t\t\tthis.debug('Stringifying JSON response body');\n\t\t\tthis.body = JSON.stringify(this.body);\n\t\t\tif (!this.options.headers.has('Content-Type')) {\n\t\t\t\tthis.options.headers.set('Content-Type', 'application/json');\n\t\t\t}\n\t\t}\n\t}\n\n\tsetContentLength() {\n\t\t// add a Content-Length header if we need to\n\t\tif (\n\t\t\tthis.getOption('includeContentLength') &&\n\t\t\ttypeof this.body === 'string' &&\n\t\t\t!this.options.headers.has('Content-Length')\n\t\t) {\n\t\t\tthis.debug('Setting content-length header:', this.body.length.toString());\n\t\t\tthis.options.headers.set('Content-Length', this.body.length.toString());\n\t\t}\n\t}\n\n\tconstructResponseBody() {\n\t\t// start to construct the body\n\t\tthis.body = this.responseConfig.body;\n\t\tthis.convertToJson();\n\t\tthis.setContentLength();\n\n\t\t// On the server we need to manually construct the readable stream for the\n\t\t// Response object (on the client this done automatically)\n\t\tif (this.Stream) {\n\t\t\tthis.debug('Creating response stream');\n\t\t\tconst stream = new this.Stream.Readable();\n\t\t\tif (this.body != null) { //eslint-disable-line\n\t\t\t\tstream.push(this.body, 'utf-8');\n\t\t\t}\n\t\t\tstream.push(null);\n\t\t\tthis.body = stream;\n\t\t}\n\t\tthis.body = this.body;\n\t}\n\n\tbuildObservableResponse(response) {\n\t\tconst fetchMock = this.fetchMock;\n\n\t\t// Using a proxy means we can set properties that may not be writable on\n\t\t// the original Response. It also means we can track the resolution of\n\t\t// promises returned by res.json(), res.text() etc\n\t\tthis.debug('Wrappipng Response in ES proxy for observability');\n\t\treturn new Proxy(response, {\n\t\t\tget: (originalResponse, name) => {\n\t\t\t\tif (this.responseConfig.redirectUrl) {\n\t\t\t\t\tif (name === 'url') {\n\t\t\t\t\t\tthis.debug(\n\t\t\t\t\t\t\t'Retrieving redirect url',\n\t\t\t\t\t\t\tthis.responseConfig.redirectUrl\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn this.responseConfig.redirectUrl;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (name === 'redirected') {\n\t\t\t\t\t\tthis.debug('Retrieving redirected status', true);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (typeof originalResponse[name] === 'function') {\n\t\t\t\t\tthis.debug('Wrapping body promises in ES proxies for observability');\n\t\t\t\t\treturn new Proxy(originalResponse[name], {\n\t\t\t\t\t\tapply: (func, thisArg, args) => {\n\t\t\t\t\t\t\tthis.debug(`Calling res.${name}`);\n\t\t\t\t\t\t\tconst result = func.apply(response, args);\n\t\t\t\t\t\t\tif (result.then) {\n\t\t\t\t\t\t\t\tfetchMock._holdingPromises.push(result.catch(() => null));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn originalResponse[name];\n\t\t\t}\n\t\t});\n\t}\n}\n\nvar responseBuilder = options => new ResponseBuilder(options).exec();\n\nlet URL;\n// https://stackoverflow.com/a/19709846/308237\nconst absoluteUrlRX = new RegExp('^(?:[a-z]+:)?//', 'i');\n\nconst headersToArray = headers => {\n\t// node-fetch 1 Headers\n\tif (typeof headers.raw === 'function') {\n\t\treturn Object.entries(headers.raw());\n\t} else if (headers[Symbol.iterator]) {\n\t\treturn [...headers];\n\t} else {\n\t\treturn Object.entries(headers);\n\t}\n};\n\nconst zipObject = entries =>\n\tentries.reduce((obj, [key, val]) => Object.assign(obj, { [key]: val }), {});\n\nconst normalizeUrl = url => {\n\tif (\n\t\ttypeof url === 'function' ||\n\t\turl instanceof RegExp ||\n\t\t/^(begin|end|glob|express|path)\\:/.test(url)\n\t) {\n\t\treturn url;\n\t}\n\tif (absoluteUrlRX.test(url)) {\n\t\tconst u = new URL(url);\n\t\treturn u.href;\n\t} else {\n\t\tconst u = new URL(url, 'http://dummy');\n\t\treturn u.pathname + u.search;\n\t}\n};\n\nconst extractBody = async request => {\n\ttry {\n\t\t// node-fetch\n\t\tif ('body' in request) {\n\t\t\treturn request.body.toString();\n\t\t}\n\t\t// fetch\n\t\treturn request.clone().text();\n\t} catch (err) {}\n};\n\nvar requestUtils = {\n\tsetUrlImplementation: it => {\n\t\tURL = it;\n\t},\n\tnormalizeRequest: (url, options, Request) => {\n\t\tif (Request.prototype.isPrototypeOf(url)) {\n\t\t\tconst derivedOptions = {\n\t\t\t\tmethod: url.method\n\t\t\t};\n\n\t\t\tconst body = extractBody(url);\n\n\t\t\tif (typeof body !== 'undefined') {\n\t\t\t\tderivedOptions.body = body;\n\t\t\t}\n\n\t\t\tconst normalizedRequestObject = {\n\t\t\t\turl: normalizeUrl(url.url),\n\t\t\t\toptions: Object.assign(derivedOptions, options),\n\t\t\t\trequest: url,\n\t\t\t\tsignal: (options && options.signal) || url.signal\n\t\t\t};\n\n\t\t\tconst headers = headersToArray(url.headers);\n\n\t\t\tif (headers.length) {\n\t\t\t\tnormalizedRequestObject.options.headers = zipObject(headers);\n\t\t\t}\n\t\t\treturn normalizedRequestObject;\n\t\t} else if (\n\t\t\ttypeof url === 'string' ||\n\t\t\t// horrible URL object duck-typing\n\t\t\t(typeof url === 'object' && 'href' in url)\n\t\t) {\n\t\t\treturn {\n\t\t\t\turl: normalizeUrl(url),\n\t\t\t\toptions: options,\n\t\t\t\tsignal: options && options.signal\n\t\t\t};\n\t\t} else if (typeof url === 'object') {\n\t\t\tthrow new TypeError(\n\t\t\t\t'fetch-mock: Unrecognised Request object. Read the Config and Installation sections of the docs'\n\t\t\t);\n\t\t} else {\n\t\t\tthrow new TypeError('fetch-mock: Invalid arguments passed to fetch');\n\t\t}\n\t},\n\tnormalizeUrl,\n\tgetPath: url => {\n\t\tconst u = absoluteUrlRX.test(url)\n\t\t\t? new URL(url)\n\t\t\t: new URL(url, 'http://dummy');\n\t\treturn u.pathname;\n\t},\n\n\tgetQuery: url => {\n\t\tconst u = absoluteUrlRX.test(url)\n\t\t\t? new URL(url)\n\t\t\t: new URL(url, 'http://dummy');\n\t\treturn u.search ? u.search.substr(1) : '';\n\t},\n\theaders: {\n\t\tnormalize: headers => zipObject(headersToArray(headers)),\n\t\ttoLowerCase: headers =>\n\t\t\tObject.keys(headers).reduce((obj, k) => {\n\t\t\t\tobj[k.toLowerCase()] = headers[k];\n\t\t\t\treturn obj;\n\t\t\t}, {}),\n\t\tequal: (actualHeader, expectedHeader) => {\n\t\t\tactualHeader = Array.isArray(actualHeader)\n\t\t\t\t? actualHeader\n\t\t\t\t: [actualHeader];\n\t\t\texpectedHeader = Array.isArray(expectedHeader)\n\t\t\t\t? expectedHeader\n\t\t\t\t: [expectedHeader];\n\n\t\t\tif (actualHeader.length !== expectedHeader.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn actualHeader.every((val, i) => val === expectedHeader[i]);\n\t\t}\n\t}\n};\n\nconst { debug: debug$1, setDebugPhase: setDebugPhase$1, getDebug: getDebug$1 } = debug_1;\n\n\nconst FetchMock$1 = {};\n\n// see https://heycam.github.io/webidl/#aborterror for the standardised interface\n// Note that this differs slightly from node-fetch\nclass AbortError extends Error {\n\tconstructor() {\n\t\tsuper(...arguments);\n\t\tthis.name = 'AbortError';\n\t\tthis.message = 'The operation was aborted.';\n\n\t\t// Do not include this class in the stacktrace\n\t\tif (Error.captureStackTrace) {\n\t\t\tError.captureStackTrace(this, this.constructor);\n\t\t}\n\t}\n}\n\nconst resolve = async (\n\t{ response, responseIsFetch = false },\n\turl,\n\toptions,\n\trequest\n) => {\n\tconst debug = getDebug$1('resolve()');\n\tdebug('Recursively resolving function and promise responses');\n\t// We want to allow things like\n\t// - function returning a Promise for a response\n\t// - delaying (using a timeout Promise) a function's execution to generate\n\t//   a response\n\t// Because of this we can't safely check for function before Promisey-ness,\n\t// or vice versa. So to keep it DRY, and flexible, we keep trying until we\n\t// have something that looks like neither Promise nor function\n\twhile (true) {\n\t\tif (typeof response === 'function') {\n\t\t\tdebug('  Response is a function');\n\t\t\t// in the case of falling back to the network we need to make sure we're using\n\t\t\t// the original Request instance, not our normalised url + options\n\t\t\tif (responseIsFetch) {\n\t\t\t\tif (request) {\n\t\t\t\t\tdebug('  -> Calling fetch with Request instance');\n\t\t\t\t\treturn response(request);\n\t\t\t\t}\n\t\t\t\tdebug('  -> Calling fetch with url and options');\n\t\t\t\treturn response(url, options);\n\t\t\t} else {\n\t\t\t\tdebug('  -> Calling response function');\n\t\t\t\tresponse = response(url, options, request);\n\t\t\t}\n\t\t} else if (typeof response.then === 'function') {\n\t\t\tdebug('  Response is a promise');\n\t\t\tdebug('  -> Resolving promise');\n\t\t\tresponse = await response;\n\t\t} else {\n\t\t\tdebug('  Response is not a function or a promise');\n\t\t\tdebug('  -> Exiting response resolution recursion');\n\t\t\treturn response;\n\t\t}\n\t}\n};\n\nFetchMock$1.fetchHandler = function(url, options, request) {\n\tsetDebugPhase$1('handle');\n\tconst debug = getDebug$1('fetchHandler()');\n\tdebug('fetch called with:', url, options);\n\tconst normalizedRequest = requestUtils.normalizeRequest(\n\t\turl,\n\t\toptions,\n\t\tthis.config.Request\n\t);\n\n\t({ url, options, request } = normalizedRequest);\n\n\tconst { signal } = normalizedRequest;\n\n\tdebug('Request normalised');\n\tdebug('  url', url);\n\tdebug('  options', options);\n\tdebug('  request', request);\n\tdebug('  signal', signal);\n\n\tif (request && this.routes.some(({ usesBody }) => usesBody)) {\n\t\tdebug(\n\t\t\t'Need to wait for Body to be streamed before calling router: switching to async mode'\n\t\t);\n\t\treturn this._asyncFetchHandler(url, options, request, signal);\n\t}\n\treturn this._fetchHandler(url, options, request, signal);\n};\n\nFetchMock$1._asyncFetchHandler = async function(url, options, request, signal) {\n\toptions.body = await options.body;\n\treturn this._fetchHandler(url, options, request, signal);\n};\n\nFetchMock$1._fetchHandler = function(url, options, request, signal) {\n\tconst route = this.executeRouter(url, options, request);\n\n\t// this is used to power the .flush() method\n\tlet done;\n\tthis._holdingPromises.push(new this.config.Promise(res => (done = res)));\n\n\t// wrapped in this promise to make sure we respect custom Promise\n\t// constructors defined by the user\n\treturn new this.config.Promise((res, rej) => {\n\t\tif (signal) {\n\t\t\tdebug$1('signal exists - enabling fetch abort');\n\t\t\tconst abort = () => {\n\t\t\t\tdebug$1('aborting fetch');\n\t\t\t\t// note that DOMException is not available in node.js; even node-fetch uses a custom error class: https://github.com/bitinn/node-fetch/blob/master/src/abort-error.js\n\t\t\t\trej(\n\t\t\t\t\ttypeof DOMException !== 'undefined'\n\t\t\t\t\t\t? new DOMException('The operation was aborted.', 'AbortError')\n\t\t\t\t\t\t: new AbortError()\n\t\t\t\t);\n\t\t\t\tdone();\n\t\t\t};\n\t\t\tif (signal.aborted) {\n\t\t\t\tdebug$1('signal is already aborted - aborting the fetch');\n\t\t\t\tabort();\n\t\t\t}\n\t\t\tsignal.addEventListener('abort', abort);\n\t\t}\n\n\t\tthis.generateResponse(route, url, options, request)\n\t\t\t.then(res, rej)\n\t\t\t.then(done, done)\n\t\t\t.then(() => {\n\t\t\t\tsetDebugPhase$1();\n\t\t\t});\n\t});\n};\n\nFetchMock$1.fetchHandler.isMock = true;\n\nFetchMock$1.executeRouter = function(url, options, request) {\n\tconst debug = getDebug$1('executeRouter()');\n\tdebug(`Attempting to match request to a route`);\n\tif (this.getOption('fallbackToNetwork') === 'always') {\n\t\tdebug(\n\t\t\t'  Configured with fallbackToNetwork=always - passing through to fetch'\n\t\t);\n\t\treturn { response: this.getNativeFetch(), responseIsFetch: true };\n\t}\n\n\tconst match = this.router(url, options, request);\n\n\tif (match) {\n\t\tdebug('  Matching route found');\n\t\treturn match;\n\t}\n\n\tif (this.getOption('warnOnFallback')) {\n\t\tconsole.warn(`Unmatched ${(options && options.method) || 'GET'} to ${url}`); // eslint-disable-line\n\t}\n\n\tthis.push({ url, options, request, isUnmatched: true });\n\n\tif (this.fallbackResponse) {\n\t\tdebug('  No matching route found - using fallbackResponse');\n\t\treturn { response: this.fallbackResponse };\n\t}\n\n\tif (!this.getOption('fallbackToNetwork')) {\n\t\tthrow new Error(\n\t\t\t`fetch-mock: No fallback response defined for ${(options &&\n\t\t\t\toptions.method) ||\n\t\t\t\t'GET'} to ${url}`\n\t\t);\n\t}\n\n\tdebug('  Configured to fallbackToNetwork - passing through to fetch');\n\treturn { response: this.getNativeFetch(), responseIsFetch: true };\n};\n\nFetchMock$1.generateResponse = async function(route, url, options, request) {\n\tconst debug = getDebug$1('generateResponse()');\n\tconst response = await resolve(route, url, options, request);\n\n\t// If the response says to throw an error, throw it\n\t// Type checking is to deal with sinon spies having a throws property :-0\n\tif (response.throws && typeof response !== 'function') {\n\t\tdebug('response.throws is defined - throwing an error');\n\t\tthrow response.throws;\n\t}\n\n\t// If the response is a pre-made Response, respond with it\n\tif (this.config.Response.prototype.isPrototypeOf(response)) {\n\t\tdebug('response is already a Response instance - returning it');\n\t\treturn response;\n\t}\n\n\t// finally, if we need to convert config into a response, we do it\n\treturn responseBuilder({\n\t\turl,\n\t\tresponseConfig: response,\n\t\tfetchMock: this,\n\t\troute\n\t});\n};\n\nFetchMock$1.router = function(url, options, request) {\n\tconst route = this.routes.find((route, i) => {\n\t\tdebug$1(`Trying to match route ${i}`);\n\t\treturn route.matcher(url, options, request);\n\t});\n\n\tif (route) {\n\t\tthis.push({\n\t\t\turl,\n\t\t\toptions,\n\t\t\trequest,\n\t\t\tidentifier: route.identifier\n\t\t});\n\t\treturn route;\n\t}\n};\n\nFetchMock$1.getNativeFetch = function() {\n\tconst func = this.realFetch || (this.isSandbox && this.config.fetch);\n\tif (!func) {\n\t\tthrow new Error(\n\t\t\t'fetch-mock: Falling back to network only available on global fetch-mock, or by setting config.fetch on sandboxed fetch-mock'\n\t\t);\n\t}\n\treturn func;\n};\n\nFetchMock$1.push = function({ url, options, request, isUnmatched, identifier }) {\n\tdebug$1('Recording fetch call', {\n\t\turl,\n\t\toptions,\n\t\trequest,\n\t\tisUnmatched,\n\t\tidentifier\n\t});\n\tconst args = [url, options];\n\targs.request = request;\n\targs.identifier = identifier;\n\targs.isUnmatched = isUnmatched;\n\tthis._calls.push(args);\n};\n\nvar fetchHandler = FetchMock$1;\n\nconst { setDebugPhase: setDebugPhase$2, setDebugNamespace, debug: debug$2 } = debug_1;\nconst { normalizeUrl: normalizeUrl$1 } = requestUtils;\nconst FetchMock$2 = {};\nconst isName = nameOrMatcher =>\n\ttypeof nameOrMatcher === 'string' && /^[\\da-zA-Z\\-]+$/.test(nameOrMatcher);\n\nconst filterCallsWithMatcher = function(matcher, options = {}, calls) {\n\tmatcher = this.generateMatcher(\n\t\tthis.sanitizeRoute(Object.assign({ matcher }, options))\n\t);\n\treturn calls.filter(([url, options]) => matcher(normalizeUrl$1(url), options));\n};\n\nconst formatDebug = func => {\n\treturn function(...args) {\n\t\tsetDebugPhase$2('inspect');\n\t\tconst result = func.call(this, ...args);\n\t\tsetDebugPhase$2();\n\t\treturn result;\n\t};\n};\n\nFetchMock$2.filterCalls = function(nameOrMatcher, options) {\n\tdebug$2('Filtering fetch calls');\n\tlet calls = this._calls;\n\tlet matcher = '*';\n\n\tif ([true, 'matched'].includes(nameOrMatcher)) {\n\t\tdebug$2(`Filter provided is ${nameOrMatcher}. Returning matched calls only`);\n\t\tcalls = calls.filter(({ isUnmatched }) => !isUnmatched);\n\t} else if ([false, 'unmatched'].includes(nameOrMatcher)) {\n\t\tdebug$2(\n\t\t\t`Filter provided is ${nameOrMatcher}. Returning unmatched calls only`\n\t\t);\n\t\tcalls = calls.filter(({ isUnmatched }) => isUnmatched);\n\t} else if (typeof nameOrMatcher === 'undefined') {\n\t\tdebug$2(`Filter provided is undefined. Returning all calls`);\n\t\tcalls = calls;\n\t} else if (isName(nameOrMatcher)) {\n\t\tdebug$2(\n\t\t\t`Filter provided, looks like the name of a named route. Returning only calls handled by that route`\n\t\t);\n\t\tcalls = calls.filter(({ identifier }) => identifier === nameOrMatcher);\n\t} else {\n\t\tmatcher = normalizeUrl$1(nameOrMatcher);\n\t\tif (this.routes.some(({ identifier }) => identifier === matcher)) {\n\t\t\tdebug$2(\n\t\t\t\t`Filter provided, ${nameOrMatcher}, identifies a route. Returning only calls handled by that route`\n\t\t\t);\n\t\t\tcalls = calls.filter(call => call.identifier === matcher);\n\t\t}\n\t}\n\n\tif ((options || matcher !== '*') && calls.length) {\n\t\tif (typeof options === 'string') {\n\t\t\toptions = { method: options };\n\t\t}\n\t\tdebug$2(\n\t\t\t'Compiling filter and options to route in order to filter all calls',\n\t\t\tnameOrMatcher\n\t\t);\n\t\tcalls = filterCallsWithMatcher.call(this, matcher, options, calls);\n\t}\n\tdebug$2(`Retrieved ${calls.length} calls`);\n\treturn calls;\n};\n\nFetchMock$2.calls = formatDebug(function(nameOrMatcher, options) {\n\tdebug$2('retrieving matching calls');\n\treturn this.filterCalls(nameOrMatcher, options);\n});\n\nFetchMock$2.lastCall = formatDebug(function(nameOrMatcher, options) {\n\tdebug$2('retrieving last matching call');\n\treturn [...this.filterCalls(nameOrMatcher, options)].pop();\n});\n\nFetchMock$2.lastUrl = formatDebug(function(nameOrMatcher, options) {\n\tdebug$2('retrieving url of last matching call');\n\treturn (this.lastCall(nameOrMatcher, options) || [])[0];\n});\n\nFetchMock$2.lastOptions = formatDebug(function(nameOrMatcher, options) {\n\tdebug$2('retrieving options of last matching call');\n\treturn (this.lastCall(nameOrMatcher, options) || [])[1];\n});\n\nFetchMock$2.called = formatDebug(function(nameOrMatcher, options) {\n\tdebug$2('checking if matching call was made');\n\treturn Boolean(this.filterCalls(nameOrMatcher, options).length);\n});\n\nFetchMock$2.flush = formatDebug(async function(waitForResponseMethods) {\n\tsetDebugNamespace('flush');\n\tdebug$2(\n\t\t`flushing all fetch calls. ${\n\t\t\twaitForResponseMethods ? '' : 'Not '\n\t\t}waiting for response bodies to complete download`\n\t);\n\n\tconst queuedPromises = this._holdingPromises;\n\tthis._holdingPromises = [];\n\tdebug$2(`${queuedPromises.length} fetch calls to be awaited`);\n\n\tawait Promise.all(queuedPromises);\n\tdebug$2(`All fetch calls have completed`);\n\tif (waitForResponseMethods && this._holdingPromises.length) {\n\t\tdebug$2(`Awaiting all fetch bodies to download`);\n\t\tawait this.flush(waitForResponseMethods);\n\t\tdebug$2(`All fetch bodies have completed downloading`);\n\t}\n\tsetDebugNamespace();\n});\n\nFetchMock$2.done = formatDebug(function(nameOrMatcher) {\n\tsetDebugPhase$2('inspect');\n\tsetDebugNamespace('done');\n\tdebug$2('Checking to see if expected calls have been made');\n\tlet routesToCheck;\n\n\tif (nameOrMatcher && typeof nameOrMatcher !== 'boolean') {\n\t\tdebug$2(\n\t\t\t'Checking to see if expected calls have been made for single route:',\n\t\t\tnameOrMatcher\n\t\t);\n\t\troutesToCheck = [{ identifier: nameOrMatcher }];\n\t} else {\n\t\tdebug$2('Checking to see if expected calls have been made for all routes');\n\t\troutesToCheck = this.routes;\n\t}\n\n\t// Can't use array.every because would exit after first failure, which would\n\t// break the logging\n\tconst result = routesToCheck\n\t\t.map(({ identifier }) => {\n\t\t\tif (!this.called(identifier)) {\n\t\t\t\tdebug$2('No calls made for route:', identifier);\n\t\t\t\tconsole.warn(`Warning: ${identifier} not called`); // eslint-disable-line\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst expectedTimes = (\n\t\t\t\tthis.routes.find(r => r.identifier === identifier) || {}\n\t\t\t).repeat;\n\n\t\t\tif (!expectedTimes) {\n\t\t\t\tdebug$2(\n\t\t\t\t\t'Route has been called at least once, and no expectation of more set:',\n\t\t\t\t\tidentifier\n\t\t\t\t);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst actualTimes = this.filterCalls(identifier).length;\n\n\t\t\tdebug$2(`Route called ${actualTimes} times:`, identifier);\n\t\t\tif (expectedTimes > actualTimes) {\n\t\t\t\tdebug$2(\n\t\t\t\t\t`Route called ${actualTimes} times, but expected ${expectedTimes}:`,\n\t\t\t\t\tidentifier\n\t\t\t\t);\n\t\t\t\tconsole.warn(\n\t\t\t\t\t`Warning: ${identifier} only called ${actualTimes} times, but ${expectedTimes} expected`\n\t\t\t\t); // eslint-disable-line\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t})\n\t\t.every(isDone => isDone);\n\n\tsetDebugNamespace();\n\tsetDebugPhase$2();\n\treturn result;\n});\n\nvar inspecting = FetchMock$2;\n\nvar globToRegexp = function (glob, opts) {\n  if (typeof glob !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  var str = String(glob);\n\n  // The regexp we are building, as a string.\n  var reStr = \"\";\n\n  // Whether we are matching so called \"extended\" globs (like bash) and should\n  // support single character matching, matching ranges of characters, group\n  // matching, etc.\n  var extended = opts ? !!opts.extended : false;\n\n  // When globstar is _false_ (default), '/foo/*' is translated a regexp like\n  // '^\\/foo\\/.*$' which will match any string beginning with '/foo/'\n  // When globstar is _true_, '/foo/*' is translated to regexp like\n  // '^\\/foo\\/[^/]*$' which will match any string beginning with '/foo/' BUT\n  // which does not have a '/' to the right of it.\n  // E.g. with '/foo/*' these will match: '/foo/bar', '/foo/bar.txt' but\n  // these will not '/foo/bar/baz', '/foo/bar/baz.txt'\n  // Lastely, when globstar is _true_, '/foo/**' is equivelant to '/foo/*' when\n  // globstar is _false_\n  var globstar = opts ? !!opts.globstar : false;\n\n  // If we are doing extended matching, this boolean is true when we are inside\n  // a group (eg {*.html,*.js}), and false otherwise.\n  var inGroup = false;\n\n  // RegExp flags (eg \"i\" ) to pass in to RegExp constructor.\n  var flags = opts && typeof( opts.flags ) === \"string\" ? opts.flags : \"\";\n\n  var c;\n  for (var i = 0, len = str.length; i < len; i++) {\n    c = str[i];\n\n    switch (c) {\n    case \"/\":\n    case \"$\":\n    case \"^\":\n    case \"+\":\n    case \".\":\n    case \"(\":\n    case \")\":\n    case \"=\":\n    case \"!\":\n    case \"|\":\n      reStr += \"\\\\\" + c;\n      break;\n\n    case \"?\":\n      if (extended) {\n        reStr += \".\";\n\t    break;\n      }\n\n    case \"[\":\n    case \"]\":\n      if (extended) {\n        reStr += c;\n\t    break;\n      }\n\n    case \"{\":\n      if (extended) {\n        inGroup = true;\n\t    reStr += \"(\";\n\t    break;\n      }\n\n    case \"}\":\n      if (extended) {\n        inGroup = false;\n\t    reStr += \")\";\n\t    break;\n      }\n\n    case \",\":\n      if (inGroup) {\n        reStr += \"|\";\n\t    break;\n      }\n      reStr += \"\\\\\" + c;\n      break;\n\n    case \"*\":\n      // Move over all consecutive \"*\"'s.\n      // Also store the previous and next characters\n      var prevChar = str[i - 1];\n      var starCount = 1;\n      while(str[i + 1] === \"*\") {\n        starCount++;\n        i++;\n      }\n      var nextChar = str[i + 1];\n\n      if (!globstar) {\n        // globstar is disabled, so treat any number of \"*\" as one\n        reStr += \".*\";\n      } else {\n        // globstar is enabled, so determine if this is a globstar segment\n        var isGlobstar = starCount > 1                      // multiple \"*\"'s\n          && (prevChar === \"/\" || prevChar === undefined)   // from the start of the segment\n          && (nextChar === \"/\" || nextChar === undefined);   // to the end of the segment\n\n        if (isGlobstar) {\n          // it's a globstar, so match zero or more path segments\n          reStr += \"((?:[^/]*(?:\\/|$))*)\";\n          i++; // move over the \"/\"\n        } else {\n          // it's not a globstar, so only match one path segment\n          reStr += \"([^/]*)\";\n        }\n      }\n      break;\n\n    default:\n      reStr += c;\n    }\n  }\n\n  // When regexp 'g' flag is specified don't\n  // constrain the regular expression with ^ & $\n  if (!flags || !~flags.indexOf('g')) {\n    reStr = \"^\" + reStr + \"$\";\n  }\n\n  return new RegExp(reStr, flags);\n};\n\n/**\n * Expose `pathToRegexp`.\n */\nvar pathToRegexp_1 = pathToRegexp;\nvar parse_1 = parse$1;\nvar compile_1 = compile;\nvar tokensToFunction_1 = tokensToFunction;\nvar tokensToRegExp_1 = tokensToRegExp;\n\n/**\n * Default configs.\n */\nvar DEFAULT_DELIMITER = '/';\nvar DEFAULT_DELIMITERS = './';\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \":test(\\\\d+)?\" => [\"test\", \"\\d+\", undefined, \"?\"]\n  // \"(\\\\d+)\"  => [undefined, undefined, \"\\d+\", undefined]\n  '(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'\n].join('|'), 'g');\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse$1 (str, options) {\n  var tokens = [];\n  var key = 0;\n  var index = 0;\n  var path = '';\n  var defaultDelimiter = (options && options.delimiter) || DEFAULT_DELIMITER;\n  var delimiters = (options && options.delimiters) || DEFAULT_DELIMITERS;\n  var pathEscaped = false;\n  var res;\n\n  while ((res = PATH_REGEXP.exec(str)) !== null) {\n    var m = res[0];\n    var escaped = res[1];\n    var offset = res.index;\n    path += str.slice(index, offset);\n    index = offset + m.length;\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1];\n      pathEscaped = true;\n      continue\n    }\n\n    var prev = '';\n    var next = str[index];\n    var name = res[2];\n    var capture = res[3];\n    var group = res[4];\n    var modifier = res[5];\n\n    if (!pathEscaped && path.length) {\n      var k = path.length - 1;\n\n      if (delimiters.indexOf(path[k]) > -1) {\n        prev = path[k];\n        path = path.slice(0, k);\n      }\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path);\n      path = '';\n      pathEscaped = false;\n    }\n\n    var partial = prev !== '' && next !== undefined && next !== prev;\n    var repeat = modifier === '+' || modifier === '*';\n    var optional = modifier === '?' || modifier === '*';\n    var delimiter = prev || defaultDelimiter;\n    var pattern = capture || group;\n\n    tokens.push({\n      name: name || key++,\n      prefix: prev,\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      pattern: pattern ? escapeGroup(pattern) : '[^' + escapeString(delimiter) + ']+?'\n    });\n  }\n\n  // Push any remaining characters.\n  if (path || index < str.length) {\n    tokens.push(path + str.substr(index));\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse$1(str, options))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length);\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$');\n    }\n  }\n\n  return function (data, options) {\n    var path = '';\n    var encode = (options && options.encode) || encodeURIComponent;\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === 'string') {\n        path += token;\n        continue\n      }\n\n      var value = data ? data[token.name] : undefined;\n      var segment;\n\n      if (Array.isArray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but got array')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) continue\n\n          throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j], token);\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment;\n        }\n\n        continue\n      }\n\n      if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        segment = encode(String(value), token);\n\n        if (!matches[i].test(segment)) {\n          throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but got \"' + segment + '\"')\n        }\n\n        path += token.prefix + segment;\n        continue\n      }\n\n      if (token.optional) {\n        // Prepend partial segment prefixes.\n        if (token.partial) path += token.prefix;\n\n        continue\n      }\n\n      throw new TypeError('Expected \"' + token.name + '\" to be ' + (token.repeat ? 'an array' : 'a string'))\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$/()])/g, '\\\\$1')\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {Array=}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  if (!keys) return path\n\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        pattern: null\n      });\n    }\n  }\n\n  return path\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source);\n  }\n\n  return new RegExp('(?:' + parts.join('|') + ')', flags(options))\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse$1(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}  tokens\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  options = options || {};\n\n  var strict = options.strict;\n  var start = options.start !== false;\n  var end = options.end !== false;\n  var delimiter = escapeString(options.delimiter || DEFAULT_DELIMITER);\n  var delimiters = options.delimiters || DEFAULT_DELIMITERS;\n  var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|');\n  var route = start ? '^' : '';\n  var isEndDelimited = tokens.length === 0;\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (typeof token === 'string') {\n      route += escapeString(token);\n      isEndDelimited = i === tokens.length - 1 && delimiters.indexOf(token[token.length - 1]) > -1;\n    } else {\n      var capture = token.repeat\n        ? '(?:' + token.pattern + ')(?:' + escapeString(token.delimiter) + '(?:' + token.pattern + '))*'\n        : token.pattern;\n\n      if (keys) keys.push(token);\n\n      if (token.optional) {\n        if (token.partial) {\n          route += escapeString(token.prefix) + '(' + capture + ')?';\n        } else {\n          route += '(?:' + escapeString(token.prefix) + '(' + capture + '))?';\n        }\n      } else {\n        route += escapeString(token.prefix) + '(' + capture + ')';\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += '(?:' + delimiter + ')?';\n\n    route += endsWith === '$' ? '$' : '(?=' + endsWith + ')';\n  } else {\n    if (!strict) route += '(?:' + delimiter + '(?=' + endsWith + '))?';\n    if (!isEndDelimited) route += '(?=' + delimiter + '|' + endsWith + ')';\n  }\n\n  return new RegExp(route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {Array=}                keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys)\n  }\n\n  if (Array.isArray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), keys, options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), keys, options)\n}\npathToRegexp_1.parse = parse_1;\npathToRegexp_1.compile = compile_1;\npathToRegexp_1.tokensToFunction = tokensToFunction_1;\npathToRegexp_1.tokensToRegExp = tokensToRegExp_1;\n\n// Copyright Joyent, Inc. and other Node contributors.\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar decode = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\n// Copyright Joyent, Inc. and other Node contributors.\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nvar encode = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return Object.keys(obj).map(function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar querystring = createCommonjsModule(function (module, exports) {\n\nexports.decode = exports.parse = decode;\nexports.encode = exports.stringify = encode;\n});\nvar querystring_1 = querystring.decode;\nvar querystring_2 = querystring.parse;\nvar querystring_3 = querystring.encode;\nvar querystring_4 = querystring.stringify;\n\nvar isSubset_1 = createCommonjsModule(function (module, exports) {\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n/**\n * Check if an object is contained within another object.\n *\n * Returns `true` if:\n * - all enumerable keys of *subset* are also enumerable in *superset*, and\n * - every value assigned to an enumerable key of *subset* strictly equals\n *   the value assigned to the same key of *superset*  or is a subset of it.\n *\n * @param  {Object}  superset\n * @param  {Object}  subset\n *\n * @returns  {Boolean}\n *\n * @module    is-subset\n * @function  default\n * @alias     isSubset\n */\nvar isSubset = (function (_isSubset) {\n  function isSubset(_x, _x2) {\n    return _isSubset.apply(this, arguments);\n  }\n\n  isSubset.toString = function () {\n    return _isSubset.toString();\n  };\n\n  return isSubset;\n})(function (superset, subset) {\n  if (typeof superset !== 'object' || superset === null || (typeof subset !== 'object' || subset === null)) return false;\n\n  return Object.keys(subset).every(function (key) {\n    if (!superset.propertyIsEnumerable(key)) return false;\n\n    var subsetItem = subset[key];\n    var supersetItem = superset[key];\n    if (typeof subsetItem === 'object' && subsetItem !== null ? !isSubset(supersetItem, subsetItem) : supersetItem !== subsetItem) return false;\n\n    return true;\n  });\n});\n\nexports['default'] = isSubset;\nmodule.exports = exports['default'];\n});\n\nunwrapExports(isSubset_1);\n\nvar lodash_isequal = createCommonjsModule(function (module, exports) {\n/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports =  exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n});\n\nconst { debug: debug$3 } = debug_1;\n\n\n\n\nconst {\n\theaders: headerUtils,\n\tgetPath,\n\tgetQuery,\n\tnormalizeUrl: normalizeUrl$2\n} = requestUtils;\n\n\nconst debuggableUrlFunc = func => url => {\n\tdebug$3('Actual url:', url);\n\treturn func(url);\n};\n\nconst stringMatchers = {\n\tbegin: targetString =>\n\t\tdebuggableUrlFunc(url => url.indexOf(targetString) === 0),\n\tend: targetString =>\n\t\tdebuggableUrlFunc(url => url.substr(-targetString.length) === targetString),\n\tglob: targetString => {\n\t\tconst urlRX = globToRegexp(targetString);\n\t\treturn debuggableUrlFunc(url => urlRX.test(url));\n\t},\n\texpress: targetString => {\n\t\tconst urlRX = pathToRegexp_1(targetString);\n\t\treturn debuggableUrlFunc(url => urlRX.test(getPath(url)));\n\t},\n\tpath: targetString => debuggableUrlFunc(url => getPath(url) === targetString)\n};\n\nconst getHeaderMatcher = ({ headers: expectedHeaders }) => {\n\tdebug$3('Generating header matcher');\n\tif (!expectedHeaders) {\n\t\tdebug$3('  No header expectations defined - skipping');\n\t\treturn;\n\t}\n\tconst expectation = headerUtils.toLowerCase(expectedHeaders);\n\tdebug$3('  Expected headers:', expectation);\n\treturn (url, { headers = {} }) => {\n\t\tdebug$3('Attempting to match headers');\n\t\tconst lowerCaseHeaders = headerUtils.toLowerCase(\n\t\t\theaderUtils.normalize(headers)\n\t\t);\n\t\tdebug$3('  Expected headers:', expectation);\n\t\tdebug$3('  Actual headers:', lowerCaseHeaders);\n\t\treturn Object.keys(expectation).every(headerName =>\n\t\t\theaderUtils.equal(lowerCaseHeaders[headerName], expectation[headerName])\n\t\t);\n\t};\n};\n\nconst getMethodMatcher = ({ method: expectedMethod }) => {\n\tdebug$3('Generating method matcher');\n\tif (!expectedMethod) {\n\t\tdebug$3('  No method expectations defined - skipping');\n\t\treturn;\n\t}\n\tdebug$3('  Expected method:', expectedMethod);\n\treturn (url, { method }) => {\n\t\tdebug$3('Attempting to match method');\n\t\tconst actualMethod = method ? method.toLowerCase() : 'get';\n\t\tdebug$3('  Expected method:', expectedMethod);\n\t\tdebug$3('  Actual method:', actualMethod);\n\t\treturn expectedMethod === actualMethod;\n\t};\n};\n\nconst getQueryStringMatcher = ({ query: expectedQuery }) => {\n\tdebug$3('Generating query parameters matcher');\n\tif (!expectedQuery) {\n\t\tdebug$3('  No query parameters expectations defined - skipping');\n\t\treturn;\n\t}\n\tdebug$3('  Expected query parameters:', expectedQuery);\n\tconst keys = Object.keys(expectedQuery);\n\treturn url => {\n\t\tdebug$3('Attempting to match query parameters');\n\t\tconst query = querystring.parse(getQuery(url));\n\t\tdebug$3('  Expected query parameters:', expectedQuery);\n\t\tdebug$3('  Actual query parameters:', query);\n\t\treturn keys.every(key => query[key] === expectedQuery[key]);\n\t};\n};\n\nconst getParamsMatcher = ({ params: expectedParams, url: matcherUrl }) => {\n\tdebug$3('Generating path parameters matcher');\n\tif (!expectedParams) {\n\t\tdebug$3('  No path parameters expectations defined - skipping');\n\t\treturn;\n\t}\n\tif (!/express:/.test(matcherUrl)) {\n\t\tthrow new Error(\n\t\t\t'fetch-mock: matching on params is only possible when using an express: matcher'\n\t\t);\n\t}\n\tdebug$3('  Expected path parameters:', expectedParams);\n\tconst expectedKeys = Object.keys(expectedParams);\n\tconst keys = [];\n\tconst re = pathToRegexp_1(matcherUrl.replace(/^express:/, ''), keys);\n\treturn url => {\n\t\tdebug$3('Attempting to match path parameters');\n\t\tconst vals = re.exec(getPath(url)) || [];\n\t\tvals.shift();\n\t\tconst params = keys.reduce(\n\t\t\t(map, { name }, i) =>\n\t\t\t\tvals[i] ? Object.assign(map, { [name]: vals[i] }) : map,\n\t\t\t{}\n\t\t);\n\t\tdebug$3('  Expected path parameters:', expectedParams);\n\t\tdebug$3('  Actual path parameters:', params);\n\t\treturn expectedKeys.every(key => params[key] === expectedParams[key]);\n\t};\n};\n\nconst getBodyMatcher = (route, fetchMock) => {\n\tconst matchPartialBody = fetchMock.getOption('matchPartialBody', route);\n\tconst { body: expectedBody } = route;\n\n\tdebug$3('Generating body matcher');\n\treturn (url, { body, method = 'get' }) => {\n\t\tdebug$3('Attempting to match body');\n\t\tif (method.toLowerCase() === 'get') {\n\t\t\tdebug$3('  GET request - skip matching body');\n\t\t\t// GET requests dont send a body so the body matcher should be ignored for them\n\t\t\treturn true;\n\t\t}\n\n\t\tlet sentBody;\n\n\t\ttry {\n\t\t\tdebug$3('  Parsing request body as JSON');\n\t\t\tsentBody = JSON.parse(body);\n\t\t} catch (err) {\n\t\t\tdebug$3('  Failed to parse request body as JSON', err);\n\t\t}\n\t\tdebug$3('Expected body:', expectedBody);\n\t\tdebug$3('Actual body:', sentBody);\n\t\tif (matchPartialBody) {\n\t\t\tdebug$3('matchPartialBody is true - checking for partial match only');\n\t\t}\n\n\t\treturn (\n\t\t\tsentBody &&\n\t\t\t(matchPartialBody\n\t\t\t\t? isSubset_1(sentBody, expectedBody)\n\t\t\t\t: lodash_isequal(sentBody, expectedBody))\n\t\t);\n\t};\n};\n\nconst getFullUrlMatcher = (route, matcherUrl, query) => {\n\t// if none of the special syntaxes apply, it's just a simple string match\n\t// but we have to be careful to normalize the url we check and the name\n\t// of the route to allow for e.g. http://it.at.there being indistinguishable\n\t// from http://it.at.there/ once we start generating Request/Url objects\n\tdebug$3('  Matching using full url', matcherUrl);\n\tconst expectedUrl = normalizeUrl$2(matcherUrl);\n\tdebug$3('  Normalised url to:', matcherUrl);\n\tif (route.identifier === matcherUrl) {\n\t\tdebug$3('  Updating route identifier to match normalized url:', matcherUrl);\n\t\troute.identifier = expectedUrl;\n\t}\n\n\treturn matcherUrl => {\n\t\tdebug$3('Expected url:', expectedUrl);\n\t\tdebug$3('Actual url:', matcherUrl);\n\t\tif (query && expectedUrl.indexOf('?')) {\n\t\t\tdebug$3('Ignoring query string when matching url');\n\t\t\treturn matcherUrl.indexOf(expectedUrl) === 0;\n\t\t}\n\t\treturn normalizeUrl$2(matcherUrl) === expectedUrl;\n\t};\n};\n\nconst getFunctionMatcher = ({ functionMatcher }) => {\n\tdebug$3('Detected user defined function matcher', functionMatcher);\n\treturn (...args) => {\n\t\tdebug$3('Calling function matcher with arguments', args);\n\t\treturn functionMatcher(...args);\n\t};\n};\n\nconst getUrlMatcher = route => {\n\tdebug$3('Generating url matcher');\n\tconst { url: matcherUrl, query } = route;\n\n\tif (matcherUrl === '*') {\n\t\tdebug$3('  Using universal * rule to match any url');\n\t\treturn () => true;\n\t}\n\n\tif (matcherUrl instanceof RegExp) {\n\t\tdebug$3('  Using regular expression to match url:', matcherUrl);\n\t\treturn url => matcherUrl.test(url);\n\t}\n\n\tif (matcherUrl.href) {\n\t\tdebug$3(`  Using URL object to match url`, matcherUrl);\n\t\treturn getFullUrlMatcher(route, matcherUrl.href, query);\n\t}\n\n\tfor (const shorthand in stringMatchers) {\n\t\tif (matcherUrl.indexOf(shorthand + ':') === 0) {\n\t\t\tdebug$3(`  Using ${shorthand}: pattern to match url`, matcherUrl);\n\t\t\tconst urlFragment = matcherUrl.replace(new RegExp(`^${shorthand}:`), '');\n\t\t\treturn stringMatchers[shorthand](urlFragment);\n\t\t}\n\t}\n\n\treturn getFullUrlMatcher(route, matcherUrl, query);\n};\n\nconst FetchMock$3 = {};\n\nFetchMock$3._matchers = [];\n\nFetchMock$3.addMatcher = function(matcher) {\n\tthis._matchers.push(matcher);\n};\n\nFetchMock$3.addMatcher({ name: 'query', matcher: getQueryStringMatcher });\nFetchMock$3.addMatcher({ name: 'method', matcher: getMethodMatcher });\nFetchMock$3.addMatcher({ name: 'headers', matcher: getHeaderMatcher });\nFetchMock$3.addMatcher({ name: 'params', matcher: getParamsMatcher });\nFetchMock$3.addMatcher({ name: 'body', matcher: getBodyMatcher, usesBody: true });\nFetchMock$3.addMatcher({ name: 'functionMatcher', matcher: getFunctionMatcher });\nFetchMock$3.addMatcher({ name: 'url', matcher: getUrlMatcher });\n\nvar matchers = FetchMock$3;\n\nconst { debug: debug$4, setDebugNamespace: setDebugNamespace$1, getDebug: getDebug$2 } = debug_1;\n\nconst isUrlMatcher = matcher =>\n\tmatcher instanceof RegExp ||\n\ttypeof matcher === 'string' ||\n\t(typeof matcher === 'object' && 'href' in matcher);\n\nconst isFunctionMatcher = matcher => typeof matcher === 'function';\n\nconst argsToRoute = args => {\n\tconst [matcher, response, options = {}] = args;\n\n\tconst routeConfig = {};\n\n\tif (isUrlMatcher(matcher) || isFunctionMatcher(matcher)) {\n\t\trouteConfig.matcher = matcher;\n\t} else {\n\t\tObject.assign(routeConfig, matcher);\n\t}\n\n\tif (typeof response !== 'undefined') {\n\t\trouteConfig.response = response;\n\t}\n\n\tObject.assign(routeConfig, options);\n\treturn routeConfig;\n};\n\nconst sanitizeRoute = route => {\n\tconst debug = getDebug$2('sanitizeRoute()');\n\tdebug('Sanitizing route properties');\n\troute = Object.assign({}, route);\n\n\tif (route.method) {\n\t\tdebug(`Converting method ${route.method} to lower case`);\n\t\troute.method = route.method.toLowerCase();\n\t}\n\tif (isUrlMatcher(route.matcher)) {\n\t\tdebug('Mock uses a url matcher', route.matcher);\n\t\troute.url = route.matcher;\n\t\tdelete route.matcher;\n\t}\n\n\troute.functionMatcher = route.matcher || route.functionMatcher;\n\n\tdebug('Setting route.identifier...');\n\tdebug(`  route.name is ${route.name}`);\n\tdebug(`  route.url is ${route.url}`);\n\tdebug(`  route.functionMatcher is ${route.functionMatcher}`);\n\troute.identifier = route.name || route.url || route.functionMatcher;\n\tdebug(`  -> route.identifier set to ${route.identifier}`);\n\treturn route;\n};\n\nconst validateRoute = function(route) {\n\tif (!('response' in route)) {\n\t\tthrow new Error('fetch-mock: Each route must define a response');\n\t}\n\n\tif (!this._matchers.some(({ name }) => name in route)) {\n\t\tthrow new Error(\n\t\t\t\"fetch-mock: Each route must specify some criteria for matching calls to fetch. To match all calls use '*'\"\n\t\t);\n\t}\n};\n\nconst limit = route => {\n\tconst debug = getDebug$2('limit()');\n\tdebug('Limiting number of requests to handle by route');\n\tif (!route.repeat) {\n\t\tdebug(\n\t\t\t'  No `repeat` value set on route. Will match any number of requests'\n\t\t);\n\t\treturn;\n\t}\n\n\tdebug(`  Route set to repeat ${route.repeat} times`);\n\tconst matcher = route.matcher;\n\tlet timesLeft = route.repeat;\n\troute.matcher = (url, options) => {\n\t\tconst match = timesLeft && matcher(url, options);\n\t\tif (match) {\n\t\t\ttimesLeft--;\n\t\t\treturn true;\n\t\t}\n\t};\n\troute.reset = () => (timesLeft = route.repeat);\n};\n\nconst delayResponse = route => {\n\tconst debug = getDebug$2('delayResponse()');\n\tdebug(`Applying response delay settings`);\n\tconst { delay } = route;\n\tif (delay) {\n\t\tdebug(`  Wrapping response in delay of ${delay} miliseconds`);\n\t\tconst response = route.response;\n\t\troute.response = () => {\n\t\t\tdebug(`Delaying response by ${delay} miliseconds`);\n\t\t\treturn new Promise(res => setTimeout(() => res(response), delay));\n\t\t};\n\t} else {\n\t\tdebug(\n\t\t\t`  No delay set on route. Will respond 'immediately' (but asynchronously)`\n\t\t);\n\t}\n};\n\nconst generateMatcher = function(route) {\n\tsetDebugNamespace$1('generateMatcher()');\n\tdebug$4('Compiling matcher for route');\n\n\tconst matchers = this._matchers\n\t\t.map(\n\t\t\t({ name, matcher, usesBody }) =>\n\t\t\t\troute[name] && { matcher: matcher(route, this), usesBody }\n\t\t)\n\t\t.filter(matcher => Boolean(matcher));\n\n\troute.usesBody = matchers.some(({ usesBody }) => usesBody);\n\n\tdebug$4('Compiled matcher for route');\n\tsetDebugNamespace$1();\n\treturn (url, options = {}, request) =>\n\t\tmatchers.every(({ matcher }) => matcher(url, options, request));\n};\n\nconst compileRoute = function(args) {\n\tconst debug = getDebug$2('compileRoute()');\n\tdebug('Compiling route');\n\tconst route = sanitizeRoute(argsToRoute(args));\n\tthis.validateRoute(route);\n\troute.matcher = this.generateMatcher(route);\n\tlimit(route);\n\tdelayResponse(route);\n\treturn route;\n};\n\nvar compileRoute_1 = {\n\tcompileRoute,\n\tsanitizeRoute,\n\tgenerateMatcher,\n\tvalidateRoute\n};\n\nconst { debug: debug$5 } = debug_1;\n\n\n\n\n\n\nconst FetchMock$4 = Object.assign(\n\t{},\n\tfetchHandler,\n\tsetUpAndTearDown,\n\tinspecting,\n\tcompileRoute_1,\n\tmatchers\n);\n\nFetchMock$4.config = {\n\tfallbackToNetwork: false,\n\tincludeContentLength: true,\n\tsendAsJson: true,\n\twarnOnFallback: true,\n\toverwriteRoutes: undefined\n};\n\nFetchMock$4.createInstance = function() {\n\tdebug$5('Creating fetch-mock instance');\n\tconst instance = Object.create(FetchMock$4);\n\tinstance._uncompiledRoutes = (this._uncompiledRoutes || []).slice();\n\tinstance._matchers = this._matchers.slice();\n\tinstance.routes = instance._uncompiledRoutes.map(config =>\n\t\tinstance.compileRoute(config)\n\t);\n\tinstance.fallbackResponse = this.fallbackResponse || undefined;\n\tinstance.config = Object.assign({}, this.config || FetchMock$4.config);\n\tinstance._calls = [];\n\tinstance._holdingPromises = [];\n\tinstance.bindMethods();\n\treturn instance;\n};\n\nFetchMock$4.bindMethods = function() {\n\tthis.fetchHandler = FetchMock$4.fetchHandler.bind(this);\n\tthis.reset = this.restore = FetchMock$4.reset.bind(this);\n\tthis.resetHistory = FetchMock$4.resetHistory.bind(this);\n\tthis.resetBehavior = FetchMock$4.resetBehavior.bind(this);\n};\n\nFetchMock$4.sandbox = function() {\n\tdebug$5('Creating sandboxed fetch-mock instance');\n\t// this construct allows us to create a fetch-mock instance which is also\n\t// a callable function, while circumventing circularity when defining the\n\t// object that this function should be bound to\n\tconst fetchMockProxy = (url, options) => sandbox.fetchHandler(url, options);\n\n\tconst sandbox = Object.assign(\n\t\tfetchMockProxy, // Ensures that the entire returned object is a callable function\n\t\tFetchMock$4, // prototype methods\n\t\tthis.createInstance(), // instance data\n\t\t{\n\t\t\tHeaders: this.config.Headers,\n\t\t\tRequest: this.config.Request,\n\t\t\tResponse: this.config.Response\n\t\t}\n\t);\n\n\tsandbox.bindMethods();\n\tsandbox.isSandbox = true;\n\tsandbox.default = sandbox;\n\treturn sandbox;\n};\n\nFetchMock$4.getOption = function(name, route = {}) {\n\treturn name in route ? route[name] : this.config[name];\n};\n\nvar lib = FetchMock$4;\n\nconst statusTextMap = {\n\t'100': 'Continue',\n\t'101': 'Switching Protocols',\n\t'102': 'Processing',\n\t'200': 'OK',\n\t'201': 'Created',\n\t'202': 'Accepted',\n\t'203': 'Non-Authoritative Information',\n\t'204': 'No Content',\n\t'205': 'Reset Content',\n\t'206': 'Partial Content',\n\t'207': 'Multi-Status',\n\t'208': 'Already Reported',\n\t'226': 'IM Used',\n\t'300': 'Multiple Choices',\n\t'301': 'Moved Permanently',\n\t'302': 'Found',\n\t'303': 'See Other',\n\t'304': 'Not Modified',\n\t'305': 'Use Proxy',\n\t'307': 'Temporary Redirect',\n\t'308': 'Permanent Redirect',\n\t'400': 'Bad Request',\n\t'401': 'Unauthorized',\n\t'402': 'Payment Required',\n\t'403': 'Forbidden',\n\t'404': 'Not Found',\n\t'405': 'Method Not Allowed',\n\t'406': 'Not Acceptable',\n\t'407': 'Proxy Authentication Required',\n\t'408': 'Request Timeout',\n\t'409': 'Conflict',\n\t'410': 'Gone',\n\t'411': 'Length Required',\n\t'412': 'Precondition Failed',\n\t'413': 'Payload Too Large',\n\t'414': 'URI Too Long',\n\t'415': 'Unsupported Media Type',\n\t'416': 'Range Not Satisfiable',\n\t'417': 'Expectation Failed',\n\t'418': \"I'm a teapot\",\n\t'421': 'Misdirected Request',\n\t'422': 'Unprocessable Entity',\n\t'423': 'Locked',\n\t'424': 'Failed Dependency',\n\t'425': 'Unordered Collection',\n\t'426': 'Upgrade Required',\n\t'428': 'Precondition Required',\n\t'429': 'Too Many Requests',\n\t'431': 'Request Header Fields Too Large',\n\t'451': 'Unavailable For Legal Reasons',\n\t'500': 'Internal Server Error',\n\t'501': 'Not Implemented',\n\t'502': 'Bad Gateway',\n\t'503': 'Service Unavailable',\n\t'504': 'Gateway Timeout',\n\t'505': 'HTTP Version Not Supported',\n\t'506': 'Variant Also Negotiates',\n\t'507': 'Insufficient Storage',\n\t'508': 'Loop Detected',\n\t'509': 'Bandwidth Limit Exceeded',\n\t'510': 'Not Extended',\n\t'511': 'Network Authentication Required'\n};\n\nvar statusText = statusTextMap;\n\nconst theGlobal = typeof window !== 'undefined' ? window : self;\nconst { setUrlImplementation } = requestUtils;\nsetUrlImplementation(theGlobal.URL);\n\nlib.global = theGlobal;\nlib.statusTextMap = statusText;\n\nlib.config = Object.assign(lib.config, {\n\tPromise: theGlobal.Promise,\n\tRequest: theGlobal.Request,\n\tResponse: theGlobal.Response,\n\tHeaders: theGlobal.Headers\n});\n\nvar client = lib.createInstance();\n\nexport default client;\n"]},"metadata":{},"sourceType":"module"}